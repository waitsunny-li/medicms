(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6beed433"],{"159f":function(e,t,r){"use strict";var n=r("2b0e");t["a"]=new n["default"]},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),o=r("2d00"),i=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"30d1":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search"},[r("el-card",{staticClass:"search-wrap"},[r("el-form",{ref:"searchForm",attrs:{size:"small",inline:!0,model:e.CustomerSearchForm}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入客户姓名",clearable:""},model:{value:e.CustomerSearchForm.name,callback:function(t){e.$set(e.CustomerSearchForm,"name",t)},expression:"CustomerSearchForm.name"}})],1),r("el-form-item",{attrs:{prop:"telphone"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入客户手机号",clearable:""},model:{value:e.CustomerSearchForm.telphone,callback:function(t){e.$set(e.CustomerSearchForm,"telphone",t)},expression:"CustomerSearchForm.telphone"}})],1),r("el-form-item",{attrs:{prop:"state"}},[r("el-select",{attrs:{placeholder:"需求来源"},model:{value:e.CustomerSearchForm.demand_source,callback:function(t){e.$set(e.CustomerSearchForm,"demand_source",t)},expression:"CustomerSearchForm.demand_source"}},[r("el-option",{attrs:{label:"二次开发老客户",value:"1"}}),r("el-option",{attrs:{label:"二次开发失效客户",value:"3"}}),r("el-option",{attrs:{label:"家政员介绍",value:"4"}}),r("el-option",{attrs:{label:"家政客户转介绍",value:"5"}}),r("el-option",{attrs:{label:"其他转介绍",value:"6"}}),r("el-option",{attrs:{label:"公司接待",value:"7"}})],1)],1),r("el-form-item",{attrs:{prop:"join_date"}},[r("el-date-picker",{staticClass:"select-date",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.CustomerSearchForm.join_date,callback:function(t){e.$set(e.CustomerSearchForm,"join_date",t)},expression:"CustomerSearchForm.join_date"}})],1),r("el-form-item",{staticClass:"handle"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchBtn}},[e._v("搜索")])],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.clearBtn}},[e._v("清除查询")])],1)],1)],1)],1)},a=[],o=(r("159f"),{name:"Search",data:function(){return{CustomerSearchForm:{name:"",telphone:"",demand_source:"",join_date:""}}},methods:{clearBtn:function(){this.$refs.searchForm.resetFields()},searchBtn:function(){this.$emit("searchBtn",this.CustomerSearchForm)}},created:function(){}}),i=o,c=(r("571a"),r("2877")),u=Object(c["a"])(i,n,a,!1,null,"51fe5340",null);t["a"]=u.exports},"3b5c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"distribute"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("customer-search",{on:{searchBtn:e.searchBtn}}),r("el-card",{staticClass:"table-content",style:{height:e.screenHeight}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.customers,height:e.scrollHeight,border:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"title-need"},[r("el-button",{attrs:{type:"text"}},[e._v(" 对家政员的需求 "),r("i",{staticClass:"el-icon-bottom"})])],1),r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"center",inline:""}},[r("el-form-item",{attrs:{label:"年龄"}},[r("span",[e._v(e._s(t.row.demand_age)+"岁以下")])]),r("el-form-item",{attrs:{label:"籍贯"}},[r("span",[e._v(e._s(t.row.demand_census))])]),r("el-form-item",{attrs:{label:"性别"}},[0==t.row.demand_sex?r("span",[e._v("不限")]):e._e(),1==t.row.demand_sex?r("span",[e._v("女")]):e._e(),2==t.row.demand_sex?r("span",[e._v("男")]):e._e()]),r("el-form-item",{attrs:{label:"岗位要求"}},[r("span",[e._v(e._s(t.row.demand_job.join("，")))])]),r("el-form-item",{attrs:{label:"学历"}},[r("span",[e._v(e._s(t.row.demand_education))])]),r("el-form-item",{attrs:{label:"服务技能"}},[r("span",[e._v(e._s(t.row.demand_service_skill.join("，")))])]),r("el-form-item",{attrs:{label:"工资"}},[r("span",[e._v(e._s(t.row.demand_salary)+" / 月")])]),r("el-form-item",{attrs:{label:"家政从业经验"}},[r("span",[e._v(e._s(t.row.demand_experience))])]),r("el-form-item",{attrs:{label:"厨艺"}},[r("span",[e._v(e._s(t.row.demand_cooking.join("，")))])])],1)]}}])}),r("el-table-column",{attrs:{align:"center",prop:"name",label:"姓名",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"family_hometown","min-width":"110",label:"家庭成员籍贯"}}),r("el-table-column",{staticClass:"identify",attrs:{align:"center",prop:"service_type",label:"服务类型","show-overflow-tooltip":!0,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.service_type?r("p",[e._v(e._s(t.row.service_other))]):e._e(),1==t.row.service_type?r("p",[e._v("全日住家型")]):e._e(),2==t.row.service_type?r("p",[e._v("日间照料型")]):e._e(),3==t.row.service_type?r("p",[e._v("计时收费型")]):e._e()]}}])}),r("el-table-column",{attrs:{align:"center",prop:"service_content",label:"需要服务","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{width:"180",align:"center",label:"家庭成员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.family_people.children)+"小孩，"+e._s(t.row.family_people.adlut)+"成人，"+e._s(t.row.family_people.old)+"老人")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"mobile",width:"150px",label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-phone",staticStyle:{color:"red"}}),e._v(" "+e._s(t.row.mobile)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"family_address",label:"现居住地址","show-overflow-tooltip":!0,"min-width":"120"}}),r("el-table-column",{attrs:{align:"center",prop:"source",label:"来源","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.source,(function(n){return r("div",{key:n.id},[t.row.source_id==n.id?r("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",height:"30px"}},[e._v(e._s(n.name))]):e._e()])}))}}])}),r("el-table-column",{attrs:{align:"center",prop:"state",label:"状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.state?r("p",[e._v("面试中")]):e._e(),1==t.row.state?r("p",[e._v("进行中")]):e._e(),3==t.row.state?r("p",[e._v("结束")]):e._e(),4==t.row.state?r("p",[e._v("取消")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配",placement:"top",enterable:!1}},[r("el-button",{staticStyle:{margin:"0 10px"},attrs:{type:"danger",icon:"el-icon-thumb",size:"mini",circle:""},on:{click:function(r){return e.distributeBtn(t.row.id)}}})],1)]}}])})],1)],1)],1)],1),r("pagination",{attrs:{currentPage:e.currentPage,perpage:e.per_page,total:e.total},on:{handlecurrentchange:e.handleCurrentChange}}),r("el-dialog",{attrs:{title:"分配",visible:e.distributeDialogVisible,width:"580px",center:""},on:{"update:visible":function(t){e.distributeDialogVisible=t},close:e.distributeDislogClose}},[r("div",{staticClass:"dis-content"},[r("el-input",{staticClass:"input-with-select",attrs:{size:"mini",placeholder:"请输入要分配的员工姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryStaffBtn(t)}},model:{value:e.queryStaffName,callback:function(t){e.queryStaffName=t},expression:"queryStaffName"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.queryStaffBtn},slot:"append"})],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.distributeLoading,expression:"distributeLoading"}],staticClass:"queryStaffTable",staticStyle:{width:"100%"},attrs:{data:e.defalutTeacherData,"highlight-current-row":!0,height:"260"}},[r("el-table-column",{attrs:{align:"center",prop:"id",label:"编号",width:"90"}}),r("el-table-column",{attrs:{align:"center",prop:"create_time",label:"录入时间"}}),r("el-table-column",{attrs:{align:"center",prop:"username",label:"姓名",width:"90"}}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.distributeSheBtn(t.row.username,t.row.id)}}},[e._v("分配")])]}}])})],1)],1)])],1)},a=[],o=(r("fb6a"),r("30d1")),i=r("c1ce"),c=r("ed50"),u=r("e7a1"),s={name:"Distribute",data:function(){return{customers:[],currentPage:1,total:null,per_page:null,loading:!1,distributeDialogVisible:!1,currentCustomId:"",queryStaffName:"",source:[],defalutTeacherData:[],distributeLoading:!1,currentSelectStaff:{id:"1",number:"",name:""}}},computed:{screenHeight:function(){return this.$store.state.screenHeight-210+"px"},scrollHeight:function(){return this.$store.state.screenHeight-290+"px"}},watch:{},created:function(){var e=this;this.getAllCustomerInfo(),Object(u["b"])().then((function(t){var r=t.code,n=t.data,a=t.msg;200===r?e.source=n:e.$message.error(a)}))},methods:{getAllCustomerInfo:function(){var e=this;this.loading=!0,Object(c["f"])().then((function(t){200===t.code?(e.customers=t.data.data,e.currentPage=t.data.current_page,e.total=t.data.total,e.per_page=t.data.per_page,e.loading=!1):(e.$message.error(t.msg),e.loading=!1)}))},searchBtn:function(e){console.log("手工分配",e)},handleCurrentChange:function(e){console.log(e)},distributeBtn:function(e){this.currentCustomId=e,this.distributeDialogVisible=!0,this.searchTeacherInfo()},searchTeacherInfo:function(e){var t=this;Object(c["r"])(this.queryStaffName).then((function(e){var r=e.code,n=e.data,a=e.msg;200===r?t.defalutTeacherData=n.slice(0,10):t.$message.error(a)}))},queryStaffBtn:function(){console.log(this.queryStaffName),this.distributeDialogVisible=!0,this.searchTeacherInfo(this.queryStaffName)},distributeSheBtn:function(e,t){var r=this;this.$confirm("是否要将此客户分配给匹配老师"+e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["e"])(r.currentCustomId,t).then((function(e){var t=e.code,n=e.msg;200===t?(r.$message.success(n),r.distributeDialogVisible=!1):r.$message.error(n)}))})).catch((function(){r.$message({type:"info",message:"已取消"})}))},distributeDislogClose:function(){this.queryStaffName=""}},components:{CustomerSearch:o["a"],Pagination:i["a"]}},l=s,d=(r("df74"),r("2877")),f=Object(d["a"])(l,n,a,!1,null,"506d46ae",null);t["default"]=f.exports},"571a":function(e,t,r){"use strict";var n=r("fa63"),a=r.n(n);a.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,i;return a&&"function"==typeof(o=t.constructor)&&o!==r&&n(i=o.prototype)&&i!==r.prototype&&a(e,i),e}},7786:function(e,t,r){},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var i=n(t);i in e?a.f(e,i,o(0,r)):e[i]=r}},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),o=r("94ca"),i=r("6eeb"),c=r("5135"),u=r("c6b6"),s=r("7156"),l=r("c04e"),d=r("d039"),f=r("7c73"),m=r("241c").f,p=r("06cf").f,h=r("9bf2").f,b=r("58a8").trim,g="Number",_=a[g],v=_.prototype,w=u(f(v))==g,y=function(e){var t,r,n,a,o,i,c,u,s=l(e,!1);if("string"==typeof s&&s.length>2)if(s=b(s),t=s.charCodeAt(0),43===t||45===t){if(r=s.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+s}for(o=s.slice(2),i=o.length,c=0;c<i;c++)if(u=o.charCodeAt(c),u<48||u>a)return NaN;return parseInt(o,n)}return+s};if(o(g,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var S,C=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof C&&(w?d((function(){v.valueOf.call(r)})):u(r)!=g)?s(new _(y(t)),r,C):y(t)},x=n?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;x.length>j;j++)c(_,S=x[j])&&!c(C,S)&&h(C,S,p(_,S));C.prototype=v,v.constructor=C,i(a,g,C)}},ae40:function(e,t,r){var n=r("83ab"),a=r("d039"),o=r("5135"),i=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(o(c,e))return c[e];t||(t={});var r=[][e],s=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:u,d=o(t,1)?t[1]:void 0;return c[e]=!!r&&!a((function(){if(s&&!n)return!0;var e={length:-1};s?i(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,d)}))}},b24d:function(e,t,r){},c1ce:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination",style:{width:e.screenWidth}},[r("el-pagination",{attrs:{"current-page":e.currentpage,"page-size":e.perpages,layout:"prev, pager, next, jumper",total:e.totalNumber},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentpage=t},"update:current-page":function(t){e.currentpage=t}}})],1)},a=[],o=(r("a9e3"),r("159f"),{name:"Pagination",props:{currentPage:{type:Number,default:1},perpage:{type:Number,default:10},total:{type:Number,default:null}},data:function(){return{currentpage:null,perpages:null,totalNumber:null}},computed:{screenWidth:function(){return this.$store.state.screenWidth-240+"px"}},watch:{currentPage:function(e){this.currentpage=e},perpage:function(e){this.perpages=e},total:function(e){this.totalNumber=e}},methods:{handleCurrentChange:function(e){this.$emit("handlecurrentchange",e)}}}),i=o,c=(r("df89"),r("2877")),u=Object(c["a"])(i,n,a,!1,null,"0160eea8",null);t["a"]=u.exports},df74:function(e,t,r){"use strict";var n=r("7786"),a=r.n(n);a.a},df89:function(e,t,r){"use strict";var n=r("b24d"),a=r.n(n);a.a},e7a1:function(e,t,r){"use strict";r.d(t,"k",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"j",(function(){return c})),r.d(t,"g",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"l",(function(){return d})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return m})),r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h}));r("bc3a");var n=r("1bab");function a(){return Object(n["a"])({url:"/region/province",method:"get"})}function o(e){return Object(n["a"])({url:"/region/city",method:"get",params:{parent_id:e}})}function i(e){return Object(n["a"])({url:"/region/district",method:"get",params:{parent_id:e}})}function c(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:1}})}function u(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:2}})}function s(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:3}})}function l(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:4}})}function d(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:5}})}function f(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:6}})}function m(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:7}})}function p(){return Object(n["a"])({url:"/customer/create",method:"get"})}function h(){return Object(n["a"])({url:"/source/index",method:"get"})}},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ed50:function(e,t,r){"use strict";r.d(t,"s",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"l",(function(){return i})),r.d(t,"i",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"t",(function(){return s})),r.d(t,"r",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"m",(function(){return f})),r.d(t,"d",(function(){return m})),r.d(t,"n",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"j",(function(){return b})),r.d(t,"u",(function(){return g})),r.d(t,"h",(function(){return _})),r.d(t,"g",(function(){return v})),r.d(t,"p",(function(){return w})),r.d(t,"o",(function(){return y})),r.d(t,"b",(function(){return S})),r.d(t,"k",(function(){return C})),r.d(t,"q",(function(){return x}));var n=r("1bab");function a(e){return Object(n["a"])({url:"/staff/waiting",method:"get",params:{keyword:e}})}function o(){return Object(n["a"])({url:"/customer/index",method:"get"})}function i(e){return Object(n["a"])({url:"/customer/save",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/customer/edit",method:"get",params:{id:e}})}function u(e){return Object(n["a"])({url:"/customer/delete",method:"get",params:{id:e}})}function s(e){return Object(n["a"])({url:"/customer/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/user/match_teacher",method:"get",params:{keyword:e}})}function d(e,t){return Object(n["a"])({url:"customer/match",method:"post",data:{customer_id:e,user_id:t}})}function f(e){return Object(n["a"])({url:"",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/customer/delete",method:"get",params:{id:e}})}function p(e){return Object(n["a"])({url:"/customer/add_or_replace",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/interview/delete",method:"get",params:{id:e}})}function b(e){return Object(n["a"])({url:"/interview/edit",method:"get",params:{id:e}})}function g(e){return Object(n["a"])({url:"/interview/update",method:"post",data:e})}function _(e){return Object(n["a"])({url:"/interview/index",method:"get",params:{customer_id:e.customer_id?e.customer_id:"",staff_id:e.staff_id?e.staff_id:""}})}function v(e){return Object(n["a"])({url:"/follow_up/index",method:"get",params:{customer_id:e.customer_id?e.customer_id:"",staff_id:e.staff_id?e.staff_id:""}})}function w(e){return Object(n["a"])({url:"/interview/save",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/follow_up/save",method:"post",data:e})}function S(e){return Object(n["a"])({url:"/follow_up/delete",method:"get",params:{id:e}})}function C(){return Object(n["a"])({url:"/visit/index",method:"get"})}function x(e){return Object(n["a"])({url:"/visit/save",method:"post",data:e})}},fa63:function(e,t,r){},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("861d"),o=r("e8b5"),i=r("23cb"),c=r("50c4"),u=r("fc6a"),s=r("8418"),l=r("b622"),d=r("1dde"),f=r("ae40"),m=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),b=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!m||!p},{slice:function(e,t){var r,n,l,d=u(this),f=c(d.length),m=i(e,f),p=i(void 0===t?f:t,f);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?a(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(d,m,p);for(n=new(void 0===r?Array:r)(g(p-m,0)),l=0;m<p;m++,l++)m in d&&s(n,l,d[m]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-6beed433.482053ae.js.map