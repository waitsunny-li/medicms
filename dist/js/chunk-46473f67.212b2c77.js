(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46473f67"],{"057f":function(e,t,r){var n=r("fc6a"),o=r("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(n(e))}},"159f":function(e,t,r){"use strict";var n=r("2b0e");new n["default"]},"199f":function(e,t,r){"use strict";var n=r("33cc"),o=r.n(n);o.a},"1dde":function(e,t,r){var n=r("d039"),o=r("b622"),i=r("2d00"),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"33cc":function(e,t,r){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),o=r("5899"),i="["+o+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"65f0":function(e,t,r){var n=r("861d"),o=r("e8b5"),i=r("b622"),a=i("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},7156:function(e,t,r){var n=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},"746f":function(e,t,r){var n=r("428f"),o=r("5135"),i=r("e538"),a=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},"7e7f":function(e,t,r){},a4d3:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("d066"),a=r("c430"),s=r("83ab"),l=r("4930"),c=r("fdbf"),u=r("d039"),d=r("5135"),f=r("e8b5"),m=r("861d"),p=r("825a"),g=r("7b0b"),h=r("fc6a"),b=r("c04e"),v=r("5c6c"),y=r("7c73"),w=r("df75"),F=r("241c"),_=r("057f"),x=r("7418"),k=r("06cf"),R=r("9bf2"),S=r("d1e7"),$=r("9112"),C=r("6eeb"),O=r("5692"),A=r("f772"),D=r("d012"),P=r("90e3"),N=r("b622"),I=r("e538"),L=r("746f"),j=r("d44e"),V=r("69f3"),E=r("b727").forEach,z=A("hidden"),B="Symbol",M="prototype",T=N("toPrimitive"),U=V.set,H=V.getterFor(B),q=Object[M],J=o.Symbol,G=i("JSON","stringify"),W=k.f,X=R.f,Y=_.f,Q=S.f,K=O("symbols"),Z=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),re=O("wks"),ne=o.QObject,oe=!ne||!ne[M]||!ne[M].findChild,ie=s&&u((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=W(q,t);n&&delete q[t],X(e,t,r),n&&e!==q&&X(q,t,n)}:X,ae=function(e,t){var r=K[e]=y(J[M]);return U(r,{type:B,tag:e,description:t}),s||(r.description=t),r},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof J},le=function(e,t,r){e===q&&le(Z,t,r),p(e);var n=b(t,!0);return p(r),d(K,n)?(r.enumerable?(d(e,z)&&e[z][n]&&(e[z][n]=!1),r=y(r,{enumerable:v(0,!1)})):(d(e,z)||X(e,z,v(1,{})),e[z][n]=!0),ie(e,n,r)):X(e,n,r)},ce=function(e,t){p(e);var r=h(t),n=w(r).concat(pe(r));return E(n,(function(t){s&&!de.call(r,t)||le(e,t,r[t])})),e},ue=function(e,t){return void 0===t?y(e):ce(y(e),t)},de=function(e){var t=b(e,!0),r=Q.call(this,t);return!(this===q&&d(K,t)&&!d(Z,t))&&(!(r||!d(this,t)||!d(K,t)||d(this,z)&&this[z][t])||r)},fe=function(e,t){var r=h(e),n=b(t,!0);if(r!==q||!d(K,n)||d(Z,n)){var o=W(r,n);return!o||!d(K,n)||d(r,z)&&r[z][n]||(o.enumerable=!0),o}},me=function(e){var t=Y(h(e)),r=[];return E(t,(function(e){d(K,e)||d(D,e)||r.push(e)})),r},pe=function(e){var t=e===q,r=Y(t?Z:h(e)),n=[];return E(r,(function(e){!d(K,e)||t&&!d(q,e)||n.push(K[e])})),n};if(l||(J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),r=function(e){this===q&&r.call(Z,e),d(this,z)&&d(this[z],t)&&(this[z][t]=!1),ie(this,t,v(1,e))};return s&&oe&&ie(q,t,{configurable:!0,set:r}),ae(t,e)},C(J[M],"toString",(function(){return H(this).tag})),C(J,"withoutSetter",(function(e){return ae(P(e),e)})),S.f=de,R.f=le,k.f=fe,F.f=_.f=me,x.f=pe,I.f=function(e){return ae(N(e),e)},s&&(X(J[M],"description",{configurable:!0,get:function(){return H(this).description}}),a||C(q,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:J}),E(w(re),(function(e){L(e)})),n({target:B,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=J(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!s},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:me,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(g(e))}}),G){var ge=!l||u((function(){var e=J();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));n({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var n,o=[e],i=1;while(arguments.length>i)o.push(arguments[i++]);if(n=t,(m(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),o[1]=t,G.apply(null,o)}})}J[M][T]||$(J[M],T,J[M].valueOf),j(J,B),D[z]=!0},a9e3:function(e,t,r){"use strict";var n=r("83ab"),o=r("da84"),i=r("94ca"),a=r("6eeb"),s=r("5135"),l=r("c6b6"),c=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),m=r("241c").f,p=r("06cf").f,g=r("9bf2").f,h=r("58a8").trim,b="Number",v=o[b],y=v.prototype,w=l(f(y))==b,F=function(e){var t,r,n,o,i,a,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(i=c.slice(2),a=i.length,s=0;s<a;s++)if(l=i.charCodeAt(s),l<48||l>o)return NaN;return parseInt(i,n)}return+c};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var _,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(w?d((function(){y.valueOf.call(r)})):l(r)!=b)?c(new v(F(t)),r,x):F(t)},k=n?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;k.length>R;R++)s(v,_=k[R])&&!s(x,_)&&g(x,_,p(v,_));x.prototype=y,y.constructor=x,a(o,b,x)}},b0c0:function(e,t,r){var n=r("83ab"),o=r("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,l="name";n&&!(l in i)&&o(i,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b727:function(e,t,r){var n=r("0366"),o=r("44ad"),i=r("7b0b"),a=r("50c4"),s=r("65f0"),l=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d;return function(m,p,g,h){for(var b,v,y=i(m),w=o(y),F=n(p,g,3),_=a(w.length),x=0,k=h||s,R=t?k(m,_):r?k(m,0):void 0;_>x;x++)if((f||x in w)&&(b=w[x],v=F(b,x,y),e))if(t)R[x]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return x;case 2:l.call(R,b)}else if(u)return!1;return d?-1:c||u?u:R}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c1ce:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"pagination"},[r("el-col",{attrs:{span:7}},[r("el-pagination",{attrs:{"current-page":e.currentpage,"page-size":e.perpages,layout:"prev, pager, next, jumper",total:e.totalNumber},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentpage=t},"update:current-page":function(t){e.currentpage=t}}})],1)],1)},o=[],i=(r("a9e3"),r("159f"),{name:"Pagination",props:{currentPage:{type:Number,default:1},perpage:{type:Number,default:10},total:{type:Number,default:null}},data:function(){return{currentpage:null,perpages:null,totalNumber:null}},computed:{screenWidth:function(){return this.$store.state.screenWidth-240+"px"}},watch:{currentPage:function(e){this.currentpage=e},perpage:function(e){this.perpages=e},total:function(e){this.totalNumber=e}},methods:{handleCurrentChange:function(e){this.$emit("handlecurrentchange",e)}}}),a=i,s=(r("199f"),r("2877")),l=Object(s["a"])(a,n,o,!1,null,"4533357c",null);t["a"]=l.exports},c433:function(e,t,r){"use strict";var n=r("7e7f"),o=r.n(n);o.a},d81d:function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").map,i=r("1dde"),a=r("ae40"),s=i("map"),l=a("map");n({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},e01a:function(e,t,r){"use strict";var n=r("23e7"),o=r("83ab"),i=r("da84"),a=r("5135"),s=r("861d"),l=r("9bf2").f,c=r("e893"),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(f,u);var m=f.prototype=u.prototype;m.constructor=f;var p=m.toString,g="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;l(m,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(d,e))return"";var r=g?t.slice(7,-1):t.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},e3c7:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sys-manage"},[r("div",{staticClass:"search"},[r("el-card",{staticClass:"search-wrap"},[r("el-form",{ref:"searchForm",attrs:{size:"small",inline:!0,model:e.searchForm}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{size:"mini",placeholder:"姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBtn(t)}},model:{value:e.searchForm.username,callback:function(t){e.$set(e.searchForm,"username",t)},expression:"searchForm.username"}})],1),r("el-form-item",{attrs:{prop:"role_id"}},[r("el-select",{attrs:{placeholder:"职位"},on:{change:e.searchBtn},model:{value:e.searchForm.role_id,callback:function(t){e.$set(e.searchForm,"role_id",t)},expression:"searchForm.role_id"}},e._l(e.roleIdList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{staticClass:"handle"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchBtn}},[e._v("搜索")])],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.clearBtn}},[e._v("清除查询")])],1)],1)],1)],1),r("div",{staticClass:"user-table"},[r("el-card",{staticClass:"user-table-card",style:{height:e.screenHeight}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-user",size:"mini"},on:{click:e.addBtn}},[e._v("新增用户")])],1)],1),r("el-row",[r("el-col",{attrs:{span:13}},[r("el-col",{attrs:{span:24}},[r("p",{staticClass:"list-name"},[r("el-tag",[e._v("用户列表")])],1)]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.userList,height:e.scrollHeight,border:""}},[r("el-table-column",{attrs:{align:"center",label:"编号",prop:"id",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"username",label:"姓名","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{width:"180",align:"center",prop:"create_time",label:"创建时间"}}),r("el-table-column",{attrs:{width:"180",align:"center",prop:"role.name",label:"角色"}}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(r){return e.editUserBtn(t.row.id,t.row.username)}}}),r("el-popconfirm",{attrs:{confirmButtonText:"好的",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"您确定要永久删除该用户吗？"},on:{onConfirm:function(r){return e.userDeleteBtn(t.row.id)}}},[r("el-button",{staticStyle:{margin:"0 10px"},attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)]}}])})],1)],1),r("el-col",{attrs:{span:10,offset:1}},[r("el-col",{attrs:{span:24}},[r("p",{staticClass:"list-name"},[r("el-tag",{attrs:{type:"warning"}},[e._v("角色列表")])],1)]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleLoading,expression:"roleLoading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.roleList,height:e.scrollHeight,border:""}},[r("el-table-column",{attrs:{align:"center",label:"编号",prop:"id",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"name",label:"角色名","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center",prop:"description",label:"描述"}}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(r){return e.editRoleBtn(t.row.id,t.row.name)}}})]}}])})],1)],1)],1)],1)],1),r("pagination",{attrs:{currentPage:e.currentPage,perpage:e.per_page,total:e.total},on:{handlecurrentchange:e.handleCurrentChange}}),r("el-dialog",{attrs:{title:e.editUserTitle,visible:e.addDialogVisible,width:"450px",center:""},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addClose}},[r("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入密码",size:"mini"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[r("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.form.role_id,callback:function(t){e.$set(e.form,"role_id",t)},expression:"form.role_id"}},e._l(e.roleIdList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e.isAddManager?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addSystemManager}},[e._v("保 存")]):r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.editSaveManager}},[e._v("编 辑")])],1)],1),r("el-dialog",{attrs:{title:e.editRoleTile,visible:e.addRoleDialogVisible,width:"450px",center:""},on:{"update:visible":function(t){e.addRoleDialogVisible=t},close:e.addRoleClose}},[r("el-form",{ref:"roleForm",attrs:{rules:e.roleFormRules,model:e.roleForm,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"角色名",prop:"name"}},[r("el-input",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请输入角色名"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),r("el-form-item",{attrs:{label:"简述",prop:"description"}},[r("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入简述",size:"mini"},model:{value:e.roleForm.description,callback:function(t){e.$set(e.roleForm,"description",t)},expression:"roleForm.description"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addRoleDialogVisible=!1}}},[e._v("取 消")]),e.isAddRole?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveRoleInfo}},[e._v("保 存")]):r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveEditRoleInfo}},[e._v("编 辑")])],1)],1),r("el-dialog",{attrs:{title:"权限列表",visible:e.powerDialogVisible,width:"600px",center:""},on:{"update:visible":function(t){e.powerDialogVisible=t}}},[r("div",{staticClass:"power-content"},[r("div",{staticStyle:{margin:"15px 0"}}),r("el-checkbox-group",{on:{change:e.handleCheckedPwersChange},model:{value:e.checkedPowers,callback:function(t){e.checkedPowers=t},expression:"checkedPowers"}},[r("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.powers,(function(t){return r("el-collapse-item",{key:t.controller,attrs:{title:t.controller_text,name:"1"}},e._l(t.menu,(function(t){return r("el-checkbox",{key:t.id,staticStyle:{margin:"10px"},attrs:{label:t.id,border:"",size:"mini"}},[e._v(e._s(t.name))])})),1)})),1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.powerDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.updateRolePowerInfo}},[e._v("保 存")])],1)])],1)},o=[],i=(r("a4d3"),r("e01a"),r("d81d"),r("b0c0"),r("c1ce")),a=r("1bab");function s(e){return Object(a["a"])({url:"/user/index",method:"get",params:e})}function l(){return Object(a["a"])({url:"/user/create",method:"get"})}function c(e){return Object(a["a"])({url:"/user/save",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/delete",method:"get",params:{id:e}})}function d(e){return Object(a["a"])({url:"/user/edit",method:"get",params:{id:e}})}function f(e){return Object(a["a"])({url:"/user/update",method:"post",data:e})}function m(){return Object(a["a"])({url:"/role/index",method:"get"})}function p(e){return Object(a["a"])({url:"/role/save",method:"post",data:e})}function g(e){return Object(a["a"])({url:"/role/edit",method:"get",params:{id:e}})}function h(e){return Object(a["a"])({url:"/role/update",method:"post",data:e})}function b(e){return Object(a["a"])({url:"/role/delete",method:"get",params:{id:e}})}function v(){return Object(a["a"])({url:"/permission/index",method:"get"})}function y(e){return Object(a["a"])({url:"/role/access_list",method:"get",params:{role_id:e}})}function w(e){return Object(a["a"])({url:"/role/access",method:"post",data:e})}var F={name:"SysManage",data:function(){return{searchForm:{username:"",role_id:""},form:{},roleForm:{},addRoleDialogVisible:!1,currentPage:1,total:null,per_page:null,roleList:[],roleLoading:!1,addRoleForm:{name:"",description:""},editRoleForm:{id:"",name:"",description:""},isAddRole:null,editRoleTile:"",roleIdList:[],userList:[],loading:!1,addForm:{username:"",password:"",role_id:5},editManagerForm:{id:"",username:"",password:"",role_id:""},isAddManager:null,editUserTitle:"",addDialogVisible:!1,powerDialogVisible:!1,checkedPowers:[],powers:[],activeNames:["1"],updatePowerForm:{permission_id:[],role_id:""},formRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role_id:[{required:!0,message:"请输入",trigger:"blur"}]},roleFormRules:{name:[{required:!0,message:"请输入角色名",trigger:"blur"}],description:[{required:!0,message:"请输入简述",trigger:"blur"}]}}},created:function(){var e=this;this.getAllUserListData(this.searchForm),this.getAllRoleListData(),l().then((function(t){var r=t.code,n=t.data,o=t.msg;200===r?e.roleIdList=n:e.$message.error(o)})),v().then((function(t){var r=t.code,n=t.data,o=t.msg;200===r?e.powers=n:e.$message.error(o)}))},methods:{getAllUserListData:function(e){var t=this;this.loading=!0,s(e).then((function(e){var r=e.code,n=e.data,o=e.msg;200===r?(t.userList=n.data,t.currentPage=n.current_page,t.total=n.total,t.per_page=n.per_page,t.loading=!1):(t.$message.error(o),t.loading=!1)}))},getAllRoleListData:function(){var e=this;this.roleLoading=!0,m().then((function(t){var r=t.code,n=t.data,o=t.msg;200===r?(e.roleList=n,e.roleLoading=!1):(e.$message.error(o),e.roleLoading=!1)}))},showPowerBtn:function(e){var t=this;this.updatePowerForm.permission_id=[],this.updatePowerForm.role_id="",this.updatePowerForm.role_id=e,y(e).then((function(e){var r=e.code,n=e.data,o=e.msg;if(200===r){var i=n?n.map((function(e){return parseInt(e)})):[];t.checkedPowers=i,t.powerDialogVisible=!0}else t.$message.error(o)}))},updateRolePowerInfo:function(){var e=this;this.updatePowerForm.permission_id=this.checkedPowers,w(this.updatePowerForm).then((function(t){var r=t.code,n=t.msg;200===r?(e.$message.success(n),e.powerDialogVisible=!1):e.$message.error(n)}))},handleChange:function(){return!1},handleCheckedPwersChange:function(e){var t=e.length;this.checkAll=t===this.powers.length,this.isIndeterminate=t>0&&t<this.powers.length},clearBtn:function(){this.$refs.searchForm.resetFields(),this.getAllUserListData(this.searchForm)},handleCurrentChange:function(e){this.searchForm.page=e,this.getAllUserListData(this.searchForm)},searchBtn:function(){this.getAllUserListData(this.searchForm)},addBtn:function(){this.editUserTitle="添加用户",this.isAddManager=!0,this.form=this.addForm,this.addDialogVisible=!0},editUserBtn:function(e,t){var r=this;this.isAddManager=!1,d(e).then((function(e){var n=e.code,o=e.data,i=e.msg;200===n?(r.editManagerForm["username"]=o.username,r.editManagerForm["password"]=o.passowrd,r.editManagerForm["id"]=o.id,r.editManagerForm["role_id"]=o.role_id,r.form=r.editManagerForm,r.editUserTitle="编辑（".concat(t,"）"),r.addDialogVisible=!0):r.$message.error(i)}))},editSaveManager:function(){var e=this;f(this.editManagerForm).then((function(t){var r=t.code,n=t.msg;200===r?(e.$message.success(n),e.addDialogVisible=!1,e.getAllUserListData()):e.$message.error(n)}))},addRoleBtn:function(){this.editRoleTile="添加角色",this.isAddRole=!0,this.roleForm=this.addRoleForm,this.addRoleDialogVisible=!0},userDeleteBtn:function(e){var t=this;u(e).then((function(e){var r=e.code,n=e.msg;200===r?(t.$message.success(n),t.getAllUserListData()):t.$message.error(n)}))},addSystemManager:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;c(e.form).then((function(t){var r=t.code,n=t.msg;200===r?(e.$message.success(n),e.addDialogVisible=!1,e.getAllUserListData()):e.$message.error(n)}))}))},saveRoleInfo:function(){var e=this;this.$refs.roleForm.validate((function(t){if(!t)return!1;p(e.roleForm).then((function(t){var r=t.code,n=t.msg;200===r?(e.$message.success(n),e.addRoleDialogVisible=!1,e.getAllRoleListData()):e.$message.error(n)}))}))},editRoleBtn:function(e,t){var r=this;this.isAddRole=!1,g(e).then((function(e){var n=e.code,o=e.data,i=e.msg;200===n?(r.editRoleForm["name"]=o.name,r.editRoleForm["description"]=o.description,r.editRoleForm["id"]=o.id,r.roleForm=r.editRoleForm,r.editRoleTile="编辑（".concat(t,"）"),r.addRoleDialogVisible=!0):r.$message.error(i)}))},saveEditRoleInfo:function(){var e=this;this.$refs.roleForm.validate((function(t){if(!t)return!1;h(e.editRoleForm).then((function(t){var r=t.code,n=t.msg;200===r?(e.$message.success(n),e.addRoleDialogVisible=!1,e.getAllRoleListData()):e.$message.error(n)}))}))},roleDeleteBtn:function(e){var t=this;b(e).then((function(e){var r=e.code,n=e.msg;200===r?(t.$message.success(n),t.getAllRoleListData()):t.$message.error(n)}))},addClose:function(){this.$refs.form.resetFields(),this.form={}},addRoleClose:function(){this.$refs.roleForm.resetFields(),this.roleForm={}}},computed:{screenHeight:function(){return this.$store.state.screenHeight-210+"px"},scrollHeight:function(){return this.$store.state.screenHeight-340+"px"}},components:{Pagination:i["a"]}},_=F,x=(r("c433"),r("2877")),k=Object(x["a"])(_,n,o,!1,null,"5f04ceca",null);t["default"]=k.exports},e538:function(e,t,r){var n=r("b622");t.f=n},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-46473f67.212b2c77.js.map