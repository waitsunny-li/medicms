(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ceeb36a"],{"159f":function(e,t,n){"use strict";var o=n("2b0e");new o["default"]},3620:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"order-query"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("customer-search",{on:{searchBtn:e.searchBtn}}),n("el-card",{staticClass:"table-content",style:{height:e.screenHeight}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.customers,height:e.scrollHeight,border:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",{staticClass:"title-need"},[n("el-button",{attrs:{type:"text"}},[e._v(" 对家政员的需求 "),n("i",{staticClass:"el-icon-bottom"})])],1),n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"center",inline:""}},[n("el-form-item",{attrs:{label:"年龄"}},[n("span",[e._v(e._s(t.row.demand_age))])]),n("el-form-item",{attrs:{label:"籍贯"}},[n("span",[e._v(e._s(t.row.demand_census))])]),n("el-form-item",{attrs:{label:"性别"}},[0==t.row.demand_sex?n("span",[e._v("不限")]):e._e(),1==t.row.demand_sex?n("span",[e._v("女")]):e._e(),2==t.row.demand_sex?n("span",[e._v("男")]):e._e()]),n("el-form-item",{attrs:{label:"岗位要求"}},[n("span",[e._v(e._s(t.row.demand_job.join("，")))])]),n("el-form-item",{attrs:{label:"学历"}},[n("span",[e._v(e._s(t.row.demand_education))])]),n("el-form-item",{attrs:{label:"服务技能"}},[n("span",[e._v(e._s(t.row.demand_service_skill.join(",")))])]),n("el-form-item",{attrs:{label:"厨艺"}},[n("span",[e._v(e._s(t.row.demand_cooking))])]),n("el-form-item",{attrs:{label:"家政从业经验"}},[n("span",[e._v(e._s(t.row.demand_experience))])]),n("el-form-item",{attrs:{label:"工资待遇"}},[n("span",[e._v("12000 / 26天")])])],1)]}}])}),n("el-table-column",{attrs:{align:"center",prop:"id",label:"订单号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.orderInfoBtn(t.row.name,t.row.id)}}},[e._v(e._s(t.row.id))])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"name",label:"名字",width:"100"}}),n("el-table-column",{attrs:{align:"center",prop:"family_hometown","min-width":"120",label:"家庭成员籍贯"}}),n("el-table-column",{staticClass:"identify",attrs:{align:"center",prop:"service_type",label:"服务类型","show-overflow-tooltip":!0,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.service_type?n("p",[e._v(e._s(t.row.service_other))]):e._e(),1==t.row.service_type?n("p",[e._v("全日住家型")]):e._e(),2==t.row.service_type?n("p",[e._v("日间照料型")]):e._e(),3==t.row.service_type?n("p",[e._v("计时收费型")]):e._e()]}}])}),n("el-table-column",{attrs:{align:"center",prop:"service_content","show-overflow-tooltip":!0,label:"需要服务"}}),n("el-table-column",{attrs:{width:"180",align:"center",label:"家庭成员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.family_people.children)+"小孩，"+e._s(t.row.family_people.adlut)+"成人，"+e._s(t.row.family_people.old)+"老人")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"mobile",width:"150px",label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-phone",staticStyle:{color:"red"}}),e._v(" "+e._s(t.row.mobile)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"family_address",label:"现居住地址","min-width":"180","show-overflow-tooltip":!0}}),n("el-table-column",{attrs:{align:"center",prop:"source_id",label:"来源","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.source,(function(o){return n("div",{key:o.id},[t.row.source_id==o.id?n("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",height:"30px"}},[e._v(e._s(o.name))]):e._e()])}))}}])}),n("el-table-column",{attrs:{align:"center",prop:"state",label:"状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.state?n("p",[e._v("面试中")]):e._e(),1==t.row.state?n("p",[e._v("进行中")]):e._e(),3==t.row.state?n("p",[e._v("结束")]):e._e(),4==t.row.state?n("p",[e._v("取消")]):e._e()]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{staticClass:"item",attrs:{enterable:!1,effect:"dark",content:"面试记录",placement:"top"}},[n("el-button",{attrs:{circle:"",size:"mini",icon:"el-icon-camera",type:"primary"},on:{click:function(n){return e.interviewDisplayBtn(t.row.id)}}})],1),n("el-tooltip",{staticClass:"item",attrs:{enterable:!1,effect:"dark",content:"查看跟进",placement:"top"}},[n("el-button",{attrs:{circle:"",size:"mini",icon:"el-icon-date",type:"primary"},on:{click:function(n){return e.lookFollowUp(t.row.id)}}})],1)]}}])})],1)],1)],1)],1),n("pagination",{attrs:{currentPage:e.currentPage,perpage:e.per_page,total:e.total},on:{handlecurrentchange:e.handleCurrentChange}}),n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.interviewedLoading,expression:"interviewedLoading"}],attrs:{title:e.interviewTitle,visible:e.interviewDialogVisible,width:"870px",center:""},on:{"update:visible":function(t){e.interviewDialogVisible=t}}},[n("div",{staticClass:"interview-content"},[n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.interviewFormData,height:"400px"}},[n("el-table-column",{attrs:{prop:"interview_time",align:"center",label:"面试时间",width:"150px"}}),n("el-table-column",{attrs:{prop:"staff_id",align:"center",label:"面试人员编号",width:"120"}}),n("el-table-column",{attrs:{align:"center",label:"姓名",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.staffInfoBtn(t.row.staff)}}},[e._v(e._s(t.row.staff.name))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"手机号",prop:"tel"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.staff.mobile))]}}])}),n("el-table-column",{attrs:{align:"center",label:"面试内容",prop:"content"}}),n("el-table-column",{attrs:{align:"center",label:"是否面试完成",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?n("p",[e._v("面试中")]):e._e(),1==t.row.status?n("p",[n("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"18px",color:"#67C23A","vertical-align":"middle","margin-right":"5px"}}),e._v("通过 ")]):e._e(),2==t.row.status?n("p",[n("i",{staticClass:"el-icon-error",staticStyle:{"font-size":"18px",color:"#F56C6C","vertical-align":"middle","margin-right":"5px"}}),e._v("不通过 ")]):e._e()]}}])})],1)],1)]),n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.followupLoading,expression:"followupLoading"}],attrs:{title:e.followUpTitle,visible:e.followUpDialogVisible,width:"800px",center:""},on:{"update:visible":function(t){e.followUpDialogVisible=t}}},[n("div",{staticClass:"followup-content"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.followUpFormData,stripe:"",height:"400px"}},[n("el-table-column",{attrs:{prop:"start_time",align:"center",label:"日期",width:"150"}}),n("el-table-column",{attrs:{prop:"total_time",align:"center",label:"时长",width:"180"}}),n("el-table-column",{attrs:{prop:"recommend",align:"center",label:"当前服务人员",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.staffInfoBtn(t.row.staff)}}},[e._v(e._s(t.row.staff.name))])]}}])}),n("el-table-column",{attrs:{prop:"content",align:"center","show-overflow-tooltip":!0,label:"跟单记录情况"}})],1)],1)]),n("el-dialog",{attrs:{title:e.staffInfoTitle,visible:e.staffInfoDialogVisible,width:"870px",center:"","append-to-body":""},on:{"update:visible":function(t){e.staffInfoDialogVisible=t}}},[n("staff-info",{attrs:{staffInfo:e.staffInfo,staffInfoLoading:e.staffInfoLoading}})],1),n("el-dialog",{attrs:{title:e.orderInfoTitle,visible:e.orderInfoDialogVisible,width:"870px",center:"","append-to-body":""},on:{"update:visible":function(t){e.orderInfoDialogVisible=t}}},[n("order-info",{attrs:{orderInfo:e.orderInfo,orderInfoLoading:e.orderInfoLoading}})],1)],1)},a=[],r=(n("b0c0"),n("30d1")),i=n("ee19"),l=n("c1ce"),s=n("2f08"),c=n("ed50"),f=n("e7a1"),u={name:"OrderQuery",data:function(){return{searchForm:{},customers:[],currentPage:1,total:null,per_page:null,loading:!1,source:[],interviewDialogVisible:!1,interviewedLoading:!1,interviewTitle:"",interviewFormData:[],staffInfoDialogVisible:!1,staffInfoLoading:!1,staffInfoTitle:"",staffInfo:{},orderInfoDialogVisible:!1,orderInfoTitle:"",orderInfoLoading:!1,orderInfo:{},followUpDialogVisible:!1,followupLoading:!1,followUpTitle:"",followUpFormData:[]}},computed:{screenHeight:function(){return this.$store.state.screenHeight-210+"px"},scrollHeight:function(){return this.$store.state.screenHeight-290+"px"}},watch:{},created:function(){var e=this;this.getAllCustomerInfo(),Object(f["b"])().then((function(t){var n=t.code,o=t.data,a=t.msg;200===n?e.source=o:e.$message.error(a)}))},methods:{getSearchInfoData:function(e){var t=this;Object(c["u"])(e).then((function(e){200===e.code?(t.customers=e.data.data,console.log(e.data.data),t.currentPage=e.data.current_page,t.total=e.data.total,t.per_page=e.data.per_page,t.loading=!1):(t.$message.error(e.msg),t.loading=!1)}))},getAllCustomerInfo:function(){this.loading=!0,this.getSearchInfoData(this.searchForm)},getAllStaffInterviewInfo:function(e){var t=this;this.interviewedLoading=!0,Object(c["i"])({customer_id:e}).then((function(e){var n=e.code,o=e.data;e.msg;200===n?(t.interviewFormData=o||[],t.interviewedLoading=!1):(t.$message.error(e.msg),t.interviewedLoading=!0)}))},getAllFollowUpInfo:function(e){var t=this;this.followupLoading=!0,Object(c["h"])({customer_id:e}).then((function(e){var n=e.code,o=e.data,a=e.msg;200===n?(console.log(e),t.followUpFormData=o,t.followupLoading=!1):(t.$message.error(a),t.followupLoading=!1)}))},searchBtn:function(e){this.searchForm=e,this.getSearchInfoData(this.searchForm)},handleCurrentChange:function(e){this.searchForm.page=e,this.getSearchInfoData(this.searchForm)},interviewDisplayBtn:function(e){this.getAllStaffInterviewInfo(e),this.interviewTitle="订单号（".concat(e,"）的面试记录"),this.interviewDialogVisible=!0},staffInfoBtn:function(e){this.staffInfo=e,this.staffInfoTitle="家政员（".concat(e.name,"）的基本信息"),this.staffInfoDialogVisible=!0},orderInfoBtn:function(e,t){var n=this;this.orderInfoLoading=!0,Object(c["j"])(t).then((function(t){var o=t.code,a=t.data,r=t.msg;200===o?(console.log(a),n.orderInfo=a,n.orderInfoTitle="（".concat(e,"）订单的基本信息"),n.orderInfoDialogVisible=!0,n.orderInfoLoading=!1):(n.$message.error(r),n.orderInfoLoading=!1)}))},lookFollowUp:function(e){this.getAllFollowUpInfo(e),this.followUpTitle="订单号（".concat(e,"）的跟进情况"),this.followUpDialogVisible=!0}},components:{CustomerSearch:r["a"],StaffInfo:i["a"],OrderInfo:s["a"],Pagination:l["a"]}},d=u,p=(n("6c2e"),n("2877")),g=Object(p["a"])(d,o,a,!1,null,"4d9092f2",null);t["default"]=g.exports},"50bc":function(e,t,n){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),a=n("5899"),r="["+a+"]",i=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(l,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},"6c2e":function(e,t,n){"use strict";var o=n("50bc"),a=n.n(o);a.a},7156:function(e,t,n){var o=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var r,i;return a&&"function"==typeof(r=t.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&a(e,i),e}},a15b:function(e,t,n){"use strict";var o=n("23e7"),a=n("44ad"),r=n("fc6a"),i=n("a640"),l=[].join,s=a!=Object,c=i("join",",");o({target:"Array",proto:!0,forced:s||!c},{join:function(e){return l.call(r(this),void 0===e?",":e)}})},a640:function(e,t,n){"use strict";var o=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,n){"use strict";var o=n("83ab"),a=n("da84"),r=n("94ca"),i=n("6eeb"),l=n("5135"),s=n("c6b6"),c=n("7156"),f=n("c04e"),u=n("d039"),d=n("7c73"),p=n("241c").f,g=n("06cf").f,m=n("9bf2").f,h=n("58a8").trim,w="Number",b=a[w],v=b.prototype,_=s(d(v))==w,I=function(e){var t,n,o,a,r,i,l,s,c=f(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+c}for(r=c.slice(2),i=r.length,l=0;l<i;l++)if(s=r.charCodeAt(l),s<48||s>a)return NaN;return parseInt(r,o)}return+c};if(r(w,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var y,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(_?u((function(){v.valueOf.call(n)})):s(n)!=w)?c(new b(I(t)),n,x):I(t)},C=o?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;C.length>S;S++)l(b,y=C[S])&&!l(x,y)&&m(x,y,g(b,y));x.prototype=v,v.constructor=x,i(a,w,x)}},b24d:function(e,t,n){},c1ce:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination",style:{width:e.screenWidth}},[n("el-pagination",{attrs:{"current-page":e.currentpage,"page-size":e.perpages,layout:"prev, pager, next, jumper",total:e.totalNumber},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentpage=t},"update:current-page":function(t){e.currentpage=t}}})],1)},a=[],r=(n("a9e3"),n("159f"),{name:"Pagination",props:{currentPage:{type:Number,default:1},perpage:{type:Number,default:10},total:{type:Number,default:null}},data:function(){return{currentpage:null,perpages:null,totalNumber:null}},computed:{screenWidth:function(){return this.$store.state.screenWidth-240+"px"}},watch:{currentPage:function(e){this.currentpage=e},perpage:function(e){this.perpages=e},total:function(e){this.totalNumber=e}},methods:{handleCurrentChange:function(e){this.$emit("handlecurrentchange",e)}}}),i=r,l=(n("df89"),n("2877")),s=Object(l["a"])(i,o,a,!1,null,"0160eea8",null);t["a"]=s.exports},df89:function(e,t,n){"use strict";var o=n("b24d"),a=n.n(o);a.a}}]);
//# sourceMappingURL=chunk-5ceeb36a.76dfffbb.js.map