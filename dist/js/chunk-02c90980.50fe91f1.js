(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02c90980"],{"159f":function(e,t,r){"use strict";var n=r("2b0e");new n["default"]},"30d1":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search"},[r("el-card",{staticClass:"search-wrap"},[r("el-form",{ref:"searchForm",attrs:{size:"small",inline:!0,model:e.CustomerSearchForm}},[r("el-row",[r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入客户姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBtn(t)}},model:{value:e.CustomerSearchForm.name,callback:function(t){e.$set(e.CustomerSearchForm,"name",t)},expression:"CustomerSearchForm.name"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"mobile"}},[r("el-input",{attrs:{placeholder:"请输入客户手机号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBtn(t)}},model:{value:e.CustomerSearchForm.mobile,callback:function(t){e.$set(e.CustomerSearchForm,"mobile",t)},expression:"CustomerSearchForm.mobile"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"source_id"}},[r("el-select",{attrs:{placeholder:"需求来源"},on:{change:e.searchBtn},model:{value:e.CustomerSearchForm.source_id,callback:function(t){e.$set(e.CustomerSearchForm,"source_id",t)},expression:"CustomerSearchForm.source_id"}},e._l(e.source,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"state"}},[r("el-select",{attrs:{placeholder:"订单状态"},on:{change:e.searchBtn},model:{value:e.CustomerSearchForm.state,callback:function(t){e.$set(e.CustomerSearchForm,"state",t)},expression:"CustomerSearchForm.state"}},[r("el-option",{attrs:{label:"审核中",value:"0"}}),r("el-option",{attrs:{label:"待进行",value:"1"}}),r("el-option",{attrs:{label:"订单进行中",value:"2"}}),r("el-option",{attrs:{label:"已完成",value:"3"}}),r("el-option",{attrs:{label:"已取消",value:"4"}}),r("el-option",{attrs:{label:"暂停中",value:"5"}})],1)],1)],1),r("el-col",{attrs:{span:5}},[r("el-form-item",[r("el-date-picker",{staticClass:"select-date",staticStyle:{width:"250px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.searchBtn},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-col",{attrs:{span:10,offset:2}},[r("el-form-item",{staticClass:"handle"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchBtn}},[e._v("搜索")])],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.clearBtn}},[e._v("清除查询")])],1)],1)],1)],1)],1)],1)],1)},a=[],o=(r("a15b"),r("b0c0"),r("159f"),r("e7a1")),c={name:"Search",data:function(){return{CustomerSearchForm:{name:"",mobile:"",source_id:"",create_time:[],state:""},source:[],time:[]}},mounted:function(){var e=this;Object(o["b"])().then((function(t){var r=t.code,n=t.data,a=t.msg;200===r?e.source=n:e.$message.error(a)}))},methods:{clearBtn:function(){this.$refs.searchForm.resetFields(),this.time=[],this.searchBtn()},searchBtn:function(){if(this.CustomerSearchForm.create_time=this.time?this.time.join(","):"",this.CustomerSearchForm.state)this.$emit("searchBtn",this.CustomerSearchForm);else{var e={};e.name=this.CustomerSearchForm.name,e.mobile=this.CustomerSearchForm.mobile,e.source_id=this.CustomerSearchForm.source_id,e.create_time=this.CustomerSearchForm.create_time,console.log("else: ",e),this.$emit("searchBtn",e)}}},created:function(){}},i=c,s=(r("625f"),r("2877")),u=Object(s["a"])(i,n,a,!1,null,"878577e6",null);t["a"]=u.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",c=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(c,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},"625f":function(e,t,r){"use strict";var n=r("f8c9"),a=r.n(n);a.a},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,c;return a&&"function"==typeof(o=t.constructor)&&o!==r&&n(c=o.prototype)&&c!==r.prototype&&a(e,c),e}},"7b54":function(e,t,r){"use strict";var n=r("fa32"),a=r.n(n);a.a},a15b:function(e,t,r){"use strict";var n=r("23e7"),a=r("44ad"),o=r("fc6a"),c=r("a640"),i=[].join,s=a!=Object,u=c("join",",");n({target:"Array",proto:!0,forced:s||!u},{join:function(e){return i.call(o(this),void 0===e?",":e)}})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),o=r("94ca"),c=r("6eeb"),i=r("5135"),s=r("c6b6"),u=r("7156"),l=r("c04e"),d=r("d039"),m=r("7c73"),f=r("241c").f,p=r("06cf").f,h=r("9bf2").f,_=r("58a8").trim,b="Number",g=a[b],v=g.prototype,w=s(m(v))==b,y=function(e){var t,r,n,a,o,c,i,s,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=_(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(o=u.slice(2),c=o.length,i=0;i<c;i++)if(s=o.charCodeAt(i),s<48||s>a)return NaN;return parseInt(o,n)}return+u};if(o(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var j,C=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof C&&(w?d((function(){v.valueOf.call(r)})):s(r)!=b)?u(new g(y(t)),r,C):y(t)},O=n?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;O.length>x;x++)i(g,j=O[x])&&!i(C,j)&&h(C,j,p(g,j));C.prototype=v,v.constructor=C,c(a,b,C)}},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,o=Function.prototype,c=o.toString,i=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return c.call(this).match(i)[1]}catch(e){return""}}})},b24d:function(e,t,r){},c16a:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"custom-query"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("customer-search",{on:{searchBtn:e.searchBtn}}),r("el-card",{staticClass:"table-content",style:{height:e.screenHeight}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.customers,height:e.scrollHeight,border:"","default-sort":{prop:"create_time",order:"descending"}}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"title-need"},[r("el-button",{attrs:{type:"text"}},[e._v(" 对家政员的需求 "),r("i",{staticClass:"el-icon-bottom"})])],1),r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"center",inline:""}},[r("el-form-item",{attrs:{label:"年龄"}},[r("span",[e._v(e._s(t.row.demand_age)+"岁以下")])]),r("el-form-item",{attrs:{label:"籍贯"}},[r("span",[e._v(e._s(t.row.demand_census))])]),r("el-form-item",{attrs:{label:"性别"}},[0==t.row.demand_sex?r("span",[e._v("不限")]):e._e(),1==t.row.demand_sex?r("span",[e._v("女")]):e._e(),2==t.row.demand_sex?r("span",[e._v("男")]):e._e()]),r("el-form-item",{attrs:{label:"岗位要求"}},[r("span",[e._v(e._s(t.row.demand_job.join("，")))])]),r("el-form-item",{attrs:{label:"学历"}},[r("span",[e._v(e._s(t.row.demand_education))])]),r("el-form-item",{attrs:{label:"服务技能"}},[r("span",[e._v(e._s(t.row.demand_service_skill.join("，")))])]),r("el-form-item",{attrs:{label:"工资"}},[r("span",[e._v(e._s(t.row.demand_salary)+" / 月")])]),r("el-form-item",{attrs:{label:"家政从业经验"}},[r("span",[e._v(e._s(t.row.demand_experience))])]),r("el-form-item",{attrs:{label:"厨艺"}},[r("span",[e._v(e._s(t.row.demand_cooking.join("，")))])])],1)]}}])}),r("el-table-column",{attrs:{align:"center",prop:"name",label:"姓名",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"family_hometown",label:"家庭成员籍贯","min-width":"110"}}),r("el-table-column",{staticClass:"identify",attrs:{align:"center",prop:"service_type",label:"服务类型","show-overflow-tooltip":!0,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.service_type?r("p",[e._v(e._s(t.row.service_other))]):e._e(),1==t.row.service_type?r("p",[e._v("全日住家型")]):e._e(),2==t.row.service_type?r("p",[e._v("日间照料型")]):e._e(),3==t.row.service_type?r("p",[e._v("计时收费型")]):e._e()]}}])}),r("el-table-column",{attrs:{align:"center",prop:"service_content","show-overflow-tooltip":!0,label:"需要服务"}}),r("el-table-column",{attrs:{width:"180",align:"center",label:"家庭成员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.family_people.children)+"小孩，"+e._s(t.row.family_people.adlut)+"成人，"+e._s(t.row.family_people.old)+"老人")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"mobile",width:"150px",label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-phone",staticStyle:{color:"red"}}),e._v(" "+e._s(t.row.mobile)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"family_address",label:"现居住地址","min-width":"120","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{align:"center",prop:"source_id",label:"来源","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.source,(function(n){return r("div",{key:n.id},[t.row.source_id==n.id?r("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",height:"30px"}},[e._v(e._s(n.name))]):e._e()])}))}}])}),r("el-table-column",{attrs:{align:"center",prop:"state",label:"状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.state?r("p",[e._v("审核中")]):e._e(),1==t.row.state?r("p",[e._v("待进行")]):e._e(),2==t.row.state?r("p",[e._v("订单进行中")]):e._e(),3==t.row.state?r("p",[e._v("已完成")]):e._e(),4==t.row.state?r("p",[e._v("已取消")]):e._e(),5==t.row.state?r("p",[e._v("暂停中")]):e._e()]}}])}),r("el-table-column",{attrs:{width:"130px","show-overflow-tooltip":!0,align:"center",sortable:"",prop:"create_time",label:"录入时间"}})],1)],1)],1)],1),r("pagination",{attrs:{currentPage:e.currentPage,perpage:e.per_page,total:e.total},on:{handlecurrentchange:e.handleCurrentChange}})],1)},a=[],o=r("30d1"),c=r("c1ce"),i=r("ed50"),s=r("e7a1"),u={name:"CustomQuery",data:function(){return{searchForm:{},customers:[],currentPage:1,total:null,per_page:null,loading:!1,source:[]}},computed:{screenHeight:function(){return this.$store.state.screenHeight-210+"px"},scrollHeight:function(){return this.$store.state.screenHeight-290+"px"}},watch:{},created:function(){var e=this;this.getAllCustomerInfo(),Object(s["b"])().then((function(t){var r=t.code,n=t.data,a=t.msg;200===r?e.source=n:e.$message.error(a)}))},methods:{getSearchInfoData:function(e){var t=this;Object(i["u"])(e).then((function(e){200===e.code?(t.customers=e.data.data,console.log(e.data.data),t.currentPage=e.data.current_page,t.total=e.data.total,t.per_page=e.data.per_page,t.loading=!1):(t.$message.error(e.msg),t.loading=!1)}))},getAllCustomerInfo:function(){this.loading=!0,this.getSearchInfoData(this.searchForm)},searchBtn:function(e){this.searchForm=e,this.getSearchInfoData(this.searchForm)},handleCurrentChange:function(e){this.searchForm.page=e,this.getSearchInfoData(this.searchForm)}},components:{CustomerSearch:o["a"],Pagination:c["a"]}},l=u,d=(r("7b54"),r("2877")),m=Object(d["a"])(l,n,a,!1,null,"85a5a6c0",null);t["default"]=m.exports},c1ce:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination",style:{width:e.screenWidth}},[r("el-pagination",{attrs:{"current-page":e.currentpage,"page-size":e.perpages,layout:"prev, pager, next, jumper",total:e.totalNumber},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentpage=t},"update:current-page":function(t){e.currentpage=t}}})],1)},a=[],o=(r("a9e3"),r("159f"),{name:"Pagination",props:{currentPage:{type:Number,default:1},perpage:{type:Number,default:10},total:{type:Number,default:null}},data:function(){return{currentpage:null,perpages:null,totalNumber:null}},computed:{screenWidth:function(){return this.$store.state.screenWidth-240+"px"}},watch:{currentPage:function(e){this.currentpage=e},perpage:function(e){this.perpages=e},total:function(e){this.totalNumber=e}},methods:{handleCurrentChange:function(e){this.$emit("handlecurrentchange",e)}}}),c=o,i=(r("df89"),r("2877")),s=Object(i["a"])(c,n,a,!1,null,"0160eea8",null);t["a"]=s.exports},df89:function(e,t,r){"use strict";var n=r("b24d"),a=r.n(n);a.a},e7a1:function(e,t,r){"use strict";r.d(t,"k",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return c})),r.d(t,"j",(function(){return i})),r.d(t,"g",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"l",(function(){return d})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return f})),r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h}));r("bc3a");var n=r("1bab");function a(){return Object(n["a"])({url:"/region/province",method:"get"})}function o(e){return Object(n["a"])({url:"/region/city",method:"get",params:{parent_id:e}})}function c(e){return Object(n["a"])({url:"/region/district",method:"get",params:{parent_id:e}})}function i(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:1}})}function s(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:2}})}function u(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:3}})}function l(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:4}})}function d(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:5}})}function m(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:6}})}function f(){return Object(n["a"])({url:"/information/index",method:"get",params:{category_id:7}})}function p(){return Object(n["a"])({url:"/customer/create",method:"get"})}function h(){return Object(n["a"])({url:"/source/index",method:"get"})}},ed50:function(e,t,r){"use strict";r.d(t,"w",(function(){return a})),r.d(t,"u",(function(){return o})),r.d(t,"o",(function(){return c})),r.d(t,"j",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"y",(function(){return u})),r.d(t,"v",(function(){return l})),r.d(t,"g",(function(){return d})),r.d(t,"f",(function(){return m})),r.d(t,"q",(function(){return f})),r.d(t,"e",(function(){return p})),r.d(t,"k",(function(){return h})),r.d(t,"z",(function(){return _})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return g})),r.d(t,"s",(function(){return v})),r.d(t,"r",(function(){return w})),r.d(t,"d",(function(){return y})),r.d(t,"p",(function(){return j})),r.d(t,"x",(function(){return C})),r.d(t,"m",(function(){return O})),r.d(t,"n",(function(){return x})),r.d(t,"a",(function(){return S})),r.d(t,"b",(function(){return k})),r.d(t,"l",(function(){return F})),r.d(t,"t",(function(){return N}));var n=r("1bab");function a(e){return Object(n["a"])({url:"/staff/waiting",method:"get",params:{keyword:e}})}function o(e){return Object(n["a"])({url:"/customer/index",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/customer/save",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/customer/edit",method:"get",params:{id:e}})}function s(e){return Object(n["a"])({url:"/customer/cancel",method:"get",params:{id:e}})}function u(e){return Object(n["a"])({url:"/customer/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/user/match_teacher",method:"get",params:{keyword:e}})}function d(e,t){return Object(n["a"])({url:"customer/match",method:"post",data:{customer_id:e,user_id:t}})}function m(e){return Object(n["a"])({url:"/customer/cancel",method:"get",params:{id:e}})}function f(e){return Object(n["a"])({url:"/customer/add_or_replace",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/interview/delete",method:"get",params:{id:e}})}function h(e){return Object(n["a"])({url:"/interview/edit",method:"get",params:{id:e}})}function _(e){return Object(n["a"])({url:"/interview/update",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/interview/index",method:"get",params:{customer_id:e.customer_id?e.customer_id:"",staff_id:e.staff_id?e.staff_id:""}})}function g(e){return Object(n["a"])({url:"/follow_up/index",method:"get",params:{customer_id:e.customer_id?e.customer_id:"",staff_id:e.staff_id?e.staff_id:""}})}function v(e){return Object(n["a"])({url:"/interview/save",method:"post",data:e})}function w(e){return Object(n["a"])({url:"/follow_up/save",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/follow_up/delete",method:"get",params:{id:e}})}function j(e){return Object(n["a"])({url:"/contract/save",method:"post",data:e})}function C(e){return Object(n["a"])({url:"/contract/pass",method:"post",data:{customer_id:e}})}function O(e){return Object(n["a"])({url:"/customer/pause",method:"post",data:e})}function x(e){return Object(n["a"])({url:"/customer/restore",method:"post",data:{customer_id:e}})}function S(e){return Object(n["a"])({url:"/customer/complete",method:"post",data:{customer_id:e}})}function k(e){return Object(n["a"])({url:"/customer/copy",method:"get",params:{customer_id:e}})}function F(e){return Object(n["a"])({url:"/visit/index",method:"get",params:e})}function N(e){return Object(n["a"])({url:"/visit/save",method:"post",data:e})}},f8c9:function(e,t,r){},fa32:function(e,t,r){}}]);
//# sourceMappingURL=chunk-02c90980.50fe91f1.js.map