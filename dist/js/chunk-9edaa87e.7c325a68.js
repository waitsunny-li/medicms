(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9edaa87e"],{"0ad1":function(e,t,r){"use strict";var i=r("15fc"),o=r.n(i);o.a},"14c3":function(e,t,r){var i=r("c6b6"),o=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var n=r.call(e,t);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"159b":function(e,t,r){var i=r("da84"),o=r("fdbc"),n=r("17c2"),a=r("9112");for(var s in o){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==n)try{a(c,"forEach",n)}catch(d){c.forEach=n}}},"15fc":function(e,t,r){},"17c2":function(e,t,r){"use strict";var i=r("b727").forEach,o=r("a640"),n=r("ae40"),a=o("forEach"),s=n("forEach");e.exports=a&&s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,r){"use strict";var i=r("23e7"),o=r("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"498a":function(e,t,r){"use strict";var i=r("23e7"),o=r("58a8").trim,n=r("c8d2");i({target:"String",proto:!0,forced:n("trim")},{trim:function(){return o(this)}})},5319:function(e,t,r){"use strict";var i=r("d784"),o=r("825a"),n=r("7b0b"),a=r("50c4"),s=r("a691"),l=r("1d80"),c=r("8aa5"),d=r("14c3"),u=Math.max,m=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};i("replace",2,(function(e,t,r,i){var b=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=i.REPLACE_KEEPS_$0,w=b?"$":"$0";return[function(r,i){var o=l(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,o,i):t.call(String(o),r,i)},function(e,i){if(!b&&h||"string"===typeof i&&-1===i.indexOf(w)){var n=r(t,e,this,i);if(n.done)return n.value}var l=o(e),f=String(this),p="function"===typeof i;p||(i=String(i));var v=l.global;if(v){var y=l.unicode;l.lastIndex=0}var F=[];while(1){var I=d(l,f);if(null===I)break;if(F.push(I),!v)break;var x=String(I[0]);""===x&&(l.lastIndex=c(f,a(l.lastIndex),y))}for(var S="",k=0,$=0;$<F.length;$++){I=F[$];for(var C=String(I[0]),D=u(m(s(I.index),f.length),0),O=[],L=1;L<I.length;L++)O.push(g(I[L]));var E=I.groups;if(p){var z=[C].concat(O,D,f);void 0!==E&&z.push(E);var T=String(i.apply(void 0,z))}else T=_(C,f,D,O,E,i);D>=k&&(S+=f.slice(k,D)+T,k=D+C.length)}return S+f.slice(k)}];function _(e,r,i,o,a,s){var l=i+e.length,c=o.length,d=v;return void 0!==a&&(a=n(a),d=p),t.call(s,d,(function(t,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,i);case"'":return r.slice(l);case"<":s=a[n.slice(1,-1)];break;default:var d=+n;if(0===d)return t;if(d>c){var u=f(d/10);return 0===u?t:u<=c?void 0===o[u-1]?n.charAt(1):o[u-1]+n.charAt(1):t}s=o[d-1]}return void 0===s?"":s}))}}))},6547:function(e,t,r){var i=r("a691"),o=r("1d80"),n=function(e){return function(t,r){var n,a,s=String(o(t)),l=i(r),c=s.length;return l<0||l>=c?e?"":void 0:(n=s.charCodeAt(l),n<55296||n>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):n:e?s.slice(l,l+2):a-56320+(n-55296<<10)+65536)}};e.exports={codeAt:n(!1),charAt:n(!0)}},"65f0":function(e,t,r){var i=r("861d"),o=r("e8b5"),n=r("b622"),a=n("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"8aa5":function(e,t,r){"use strict";var i=r("6547").charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},9263:function(e,t,r){"use strict";var i=r("ad6d"),o=r("9f7f"),n=RegExp.prototype.exec,a=String.prototype.replace,s=n,l=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=l||d||c;u&&(s=function(e){var t,r,o,s,u=this,m=c&&u.sticky,f=i.call(u),p=u.source,v=0,g=e;return m&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),r=new RegExp("^(?:"+p+")",f)),d&&(r=new RegExp("^"+p+"$(?!\\s)",f)),l&&(t=u.lastIndex),o=n.call(m?r:u,g),m?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=u.lastIndex,u.lastIndex+=o[0].length):u.lastIndex=0:l&&o&&(u.lastIndex=u.global?o.index+o[0].length:t),d&&o&&o.length>1&&a.call(o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o}),e.exports=s},9933:function(e,t,r){"use strict";r.r(t);var i,o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-generate"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("customer-search",{on:{searchBtn:e.searchBtn}}),r("el-card",{staticClass:"table-content",style:{height:e.screenHeight}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.customers,height:e.scrollHeight,border:""},on:{"expand-change":e.expandShow}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tabs",{on:{"tab-click":e.tabsClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"对家政员的需求",name:"first"}},[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"center",inline:""}},[r("el-form-item",{attrs:{label:"年龄"}},[r("span",[e._v(e._s(t.row.demand_age)+"岁以下")])]),r("el-form-item",{attrs:{label:"籍贯"}},[r("span",[e._v(e._s(t.row.demand_census))])]),r("el-form-item",{attrs:{label:"性别"}},[0==t.row.demand_sex?r("span",[e._v("不限")]):e._e(),1==t.row.demand_sex?r("span",[e._v("女")]):e._e(),2==t.row.demand_sex?r("span",[e._v("男")]):e._e()]),r("el-form-item",{attrs:{label:"岗位要求"}},[r("span",[e._v(e._s(t.row.demand_job.join("，")))])]),r("el-form-item",{attrs:{label:"学历"}},[r("span",[e._v(e._s(t.row.demand_education))])]),r("el-form-item",{attrs:{label:"服务技能"}},[r("span",[e._v(e._s(t.row.demand_service_skill.join(",")))])]),r("el-form-item",{attrs:{label:"厨艺"}},[r("span",[e._v(e._s(t.row.demand_cooking.join("，")))])]),r("el-form-item",{attrs:{label:"家政从业经验"}},[r("span",[e._v(e._s(t.row.demand_experience))])]),r("el-form-item",{attrs:{label:"工资待遇"}},[r("span",[e._v(e._s(t.row.demand_salary)+" / 月")])])],1)],1),r("el-tab-pane",{attrs:{label:"面试记录",name:"second"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.interviewLoading,expression:"interviewLoading"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:e.interviewFormData,height:"350px"}},[r("el-table-column",{attrs:{align:"center",label:"面试日期",prop:"interview_time"}}),r("el-table-column",{attrs:{align:"center",label:"姓名",width:"100",prop:"staff"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.staffInfoBtn(t.row.staff)}}},[e._v(e._s(t.row.staff?t.row.staff.name:e.seatData))])]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"电话",prop:"staff.mobile"}}),r("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?r("p",[e._v("面试中")]):e._e(),1==t.row.status?r("p",[e._v("进行中")]):e._e(),3==t.row.status?r("p",[e._v("结束")]):e._e(),4==t.row.status?r("p",[e._v("取消")]):e._e()]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"面试内容",prop:"content"}}),r("el-table-column",{attrs:{align:"center",label:"是否面试完成",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?r("p",[r("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"18px",color:"#67C23A","vertical-align":"middle"}}),e._v(" 已通过 ")]):r("p",[r("i",{staticClass:"el-icon-error",staticStyle:{"font-size":"18px",color:"#F56C6C","vertical-align":"middle"}}),e._v(" 未通过 ")])]}}],null,!0)}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],staticStyle:{"margin-right":"5px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(r){return e.editInterview(t.row.id)}}}),r("el-popconfirm",{attrs:{confirmButtonText:"确定",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"这一段面试确定删除吗？"},on:{onConfirm:function(r){return e.interViewDeleteBtn(t.row.id)}}},[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)]}}],null,!0)})],1),r("div",{staticClass:"add-wrap",staticStyle:{"margin-top":"20px"}},[r("el-row",[r("el-col",{attrs:{span:2,offset:22}},[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.addInterviewBtn(t.row.id)}}},[e._v("添加面试")])],1)],1)],1)],1),r("el-tab-pane",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],attrs:{label:"跟进记录",name:"third"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.followupLoading,expression:"followupLoading"}],staticStyle:{width:"100%"},attrs:{data:e.followUpFormData,stripe:"",height:"250px"}},[r("el-table-column",{attrs:{prop:"create_time",align:"center",label:"开始时间"}}),r("el-table-column",{attrs:{align:"center",label:"服务人员",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-user-solid"}),e._v(" "+e._s(t.row.staff?t.row.staff.name:e.seatData)+" ")]}}],null,!0)}),r("el-table-column",{attrs:{prop:"total_time",align:"center",label:"时长",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.total_time)+"h")]}}],null,!0)}),r("el-table-column",{attrs:{prop:"content",align:"center",label:"跟单记录情况",width:"180"}}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popconfirm",{attrs:{confirmButtonText:"确定",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"这一段跟进确定删除吗？"},on:{onConfirm:function(r){return e.followUpDeleteBtn(t.row.id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)]}}],null,!0)})],1),r("div",{staticClass:"option-wrap"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("i",{staticClass:"el-icon-folder-add"}),e._v(" 添加跟进 ")])],1)],1),r("el-form",{ref:"addFollowUpForm",staticClass:"eventForm",staticStyle:{"margin-top":"10px"},attrs:{model:e.addFollowUpForm,rules:e.addFollowUpFormRules,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"开始时间",prop:"time","label-width":"100px"}},[r("el-date-picker",{staticClass:"followDate",staticStyle:{width:"180px"},attrs:{type:"datetime",size:"mini",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.addFollowUpForm.start_time,callback:function(t){e.$set(e.addFollowUpForm,"start_time",t)},expression:"addFollowUpForm.start_time"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"当前服务人员"}},[0==t.row.staff_id?r("div",[r("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v("暂无服务人员")])],1):r("div",[r("el-tag",{attrs:{type:"info",effect:"dark"}},[e._v(e._s(t.row.staff?t.row.staff.name:"已被删除的用户"))])],1)])],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"时长",prop:"total_time"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.addFollowUpForm.total_time,callback:function(t){e.$set(e.addFollowUpForm,"total_time",t)},expression:"addFollowUpForm.total_time"}})],1)],1),r("el-col",{attrs:{span:17,offset:1}},[r("el-form-item",{attrs:{label:"跟单记录情况","label-width":"110px",prop:"content"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea"},model:{value:e.addFollowUpForm.content,callback:function(t){e.$set(e.addFollowUpForm,"content",t)},expression:"addFollowUpForm.content"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:3,offset:21}},[0==t.row.staff_id?r("div",[r("el-button",{attrs:{disabled:"",size:"mini",type:"primary",round:""}},[e._v("保 存")])],1):r("div",[r("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(r){return e.saveFollowUp(t.row.id)}}},[e._v("保 存")])],1)])],1)],1)],1)]}}])}),r("el-table-column",{attrs:{align:"center",prop:"id",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.orderInfoBtn(t.row.name,t.row.id)}}},[e._v(e._s(t.row.id))])]}}])}),r("el-table-column",{attrs:{align:"center",label:"名字"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"name-wrap"},[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"mobile",label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.mobile,placement:"top"}},[r("i",{staticClass:"el-icon-phone",staticStyle:{color:"red","font-size":"20px"}})])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"family_hometown",label:"家庭成员籍贯","show-overflow-tooltip":!0}}),r("el-table-column",{staticClass:"identify",attrs:{align:"center",prop:"service_type",label:"服务类型","show-overflow-tooltip":!0,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.service_types,(function(i){return r("div",{key:i.id},[t.row.service_type==i.id?r("p",[e._v(e._s(i.name))]):e._e()])}))}}])}),r("el-table-column",{attrs:{align:"center",prop:"service_content","show-overflow-tooltip":!0,label:"需要服务"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center",label:"家庭成员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.family_people.children)+"小孩，"+e._s(t.row.family_people.adlut)+"成人，"+e._s(t.row.family_people.old)+"老人")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"family_address",label:"现居住地址","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{align:"center",prop:"source_id",label:"来源","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.source,(function(i){return r("div",{key:i.id},[t.row.source_id==i.id?r("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",height:"30px"}},[e._v(e._s(i.name))]):e._e()])}))}}])}),r("el-table-column",{attrs:{align:"center",prop:"state",label:"状态","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}]},[0==t.row.state?r("p",[e._v("审核中")]):e._e(),1==t.row.state?r("p",[e._v("待进行")]):e._e(),2==t.row.state?r("p",[e._v("跟进中")]):e._e(),3==t.row.state?r("p",[e._v("已完成")]):e._e(),4==t.row.state?r("p",[e._v("已取消")]):e._e(),5==t.row.state?r("p",[e._v("暂停中")]):e._e(),6==t.row.state?r("p",[e._v("重新恢复")]):e._e()]),[1,4,5].includes(e.$store.state.userInfo.role_id)?e._e():r("span",[e._v("无权限查看")])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"create_time",label:"录入时间","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{align:"center",prop:"staff_id",label:"是否完成"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!=t.row.staff_id?r("div",[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.staff?t.row.staff.name:e.seatData,placement:"top"}},[r("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A","font-size":"28px"}})])],1):r("div",[e._v("未完成")])]}}])}),r("el-table-column",{attrs:{align:"center",label:"保险购买","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.safety.length?r("span",[e._v("无")]):r("span",[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.lookInsuranceBtn(t.row.staff_id,t.row.staff.name)}}},[e._v("查看")])],1)]}}])}),r("el-table-column",{attrs:{align:"center",label:"当前服务人员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.staff?t.row.staff.name:e.seatData)+" "),0!=t.row.staff_id?r("span",[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],attrs:{type:"text",size:"mini"},on:{click:function(r){return e.buyInsuranceBtn(t.row.id)}}},[e._v("购买保险")])],1):r("span")]}}])}),r("el-table-column",{attrs:{align:"center",label:"跟单老师","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.match?t.row.match.username:"无"))]}}])}),r("el-table-column",{attrs:{label:"操作",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"left",trigger:"click"}},[r("div",{staticClass:"click-content"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"编辑员工",placement:"top"}},[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],staticClass:"el-icon-user",staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"primary",circle:""},on:{click:function(r){return e.addSuccessOrder(t.row.staff_id,t.row.id)}}})],1),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"编辑合同",placement:"top"}},[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],staticClass:"el-icon-edit",staticStyle:{"margin-right":"5px"},attrs:{size:"mini",type:"info",circle:""},on:{click:function(r){return e.editBtn(t.row.name,t.row.id,t.row.contract)}}})],1),r("span",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4], role_id: $store.state.userInfo.role_id}"}]},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"取消订单",placement:"top"}},[r("el-popconfirm",{attrs:{confirmButtonText:"好的",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"您确定要取消该订单吗？"},on:{onConfirm:function(r){return e.formDeleteBtn(t.row.id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)],1),r("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[r("el-form",{ref:"pauseOrderForm",attrs:{model:e.pauseOrderForm,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"暂停日期"}},[r("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"mini"},model:{value:e.pauseOrderForm.pause_time,callback:function(t){e.$set(e.pauseOrderForm,"pause_time",t)},expression:"pauseOrderForm.pause_time"}})],1)],1),r("el-col",{staticStyle:{"margin-top":"8px"},attrs:{span:5,offset:1}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.savePauseOrderInfo}},[e._v("保 存")])],1)],1)],1),r("el-tooltip",{staticClass:"item",attrs:{slot:"reference",effect:"dark",enterable:!1,content:"暂停",placement:"top"},slot:"reference"},[r("el-button",{staticClass:"el-icon-video-pause",staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"warning",circle:""},on:{click:function(r){return e.stopBtn(t.row.id)}}})],1)],1),r("el-tooltip",{directives:[{name:"order-state",rawName:"v-order-state",value:{limitList:[0,1,2,3,4,6],state:t.row.state},expression:"{limitList: [0,1,2,3,4,6], state: scope.row.state}"}],staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"恢复",placement:"top"}},[r("el-button",{staticClass:"el-icon-refresh",staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"success",circle:""},on:{click:function(r){return e.restoreBtn(t.row.id)}}})],1),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"审核",placement:"top"}},[r("el-button",{staticClass:"el-icon-finished",staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"success",circle:""},on:{click:function(r){return e.examineBtn(t.row.id)}}})],1),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"完成",placement:"top"}},[r("el-button",{staticClass:"el-icon-s-claim",staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"primary",circle:""},on:{click:function(r){return e.completeBtn(t.row.id)}}})],1),3==t.row.state?r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"续签",placement:"top"}},[r("el-button",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"success",circle:""},on:{click:function(r){return e.copyBtn(t.row.id)}}})],1):e._e()],1)],1),r("el-button",{attrs:{slot:"reference",size:"mini",type:"primary",icon:"el-icon-s-operation",plain:""},slot:"reference"},[e._v("功能")])],1)]}}])})],1)],1)],1)],1),r("pagination",{attrs:{currentPage:e.currentPage,perpage:e.per_page,total:e.total},on:{handlecurrentchange:e.handleCurrentChange}}),r("el-dialog",{attrs:{title:e.currenInsurTitle,visible:e.lookInsuranceDialogVisible,width:"600px",center:""},on:{"update:visible":function(t){e.lookInsuranceDialogVisible=t}}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.insuracneFormData,height:"350px"}},[r("el-table-column",{attrs:{align:"center",prop:"safety_no",label:"保险单号"}}),r("el-table-column",{attrs:{width:"180",align:"center",prop:"time",label:"起止时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.time.join(" ~ ")))]}}])}),r("el-table-column",{attrs:{align:"center",prop:"content",label:"保险内容"}}),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(r){return e.editInsuranceBtn(t.row.id)}}}),r("el-popconfirm",{directives:[{name:"has-power",rawName:"v-has-power",value:{limitList:[1,4,5],role_id:e.$store.state.userInfo.role_id},expression:"{limitList: [1, 4, 5], role_id: $store.state.userInfo.role_id}"}],attrs:{confirmButtonText:"好的",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"您确定要删除该保险吗？"},on:{onConfirm:function(r){return e.deleteInsuranceBtn(t.row.id,t.row.staff_id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",size:"mini",icon:"el-icon-delete",circle:""},slot:"reference"})],1)]}}])})],1)],1),r("el-dialog",{attrs:{title:e.addInsurTile,visible:e.buyInsurDialogVisible,width:"500px",center:"","append-to-body":""},on:{"update:visible":function(t){e.buyInsurDialogVisible=t},close:e.buyInsuranceClose}},[r("el-form",{ref:"insuracneForm",attrs:{rules:e.insuracneFormRules,model:e.insuracneForm,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:14}},[r("el-form-item",{attrs:{label:"保险单号",prop:"safety_no"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.insuracneForm.safety_no,callback:function(t){e.$set(e.insuracneForm,"safety_no",t)},expression:"insuracneForm.safety_no"}})],1)],1)],1),r("el-form-item",{attrs:{label:"起止时间",prop:"time"}},[r("el-date-picker",{attrs:{size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.insuracneForm.time,callback:function(t){e.$set(e.insuracneForm,"time",t)},expression:"insuracneForm.time"}})],1),r("el-form-item",{attrs:{label:"合同内容",prop:"content"}},[r("el-input",{attrs:{size:"mini",type:"textarea"},model:{value:e.insuracneForm.content,callback:function(t){e.$set(e.insuracneForm,"content",t)},expression:"insuracneForm.content"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.buyInsurDialogVisible=!1}}},[e._v("取 消")]),e.isaddIns?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveInsurance}},[e._v("保 存")]):r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveEditInsurance}},[e._v("编 辑")])],1)],1),r("el-dialog",{attrs:{title:e.staffInfoTitle,visible:e.staffInfoDialogVisible,width:"870px",center:""},on:{"update:visible":function(t){e.staffInfoDialogVisible=t}}},[r("staff-info",{attrs:{staffInfo:e.staffInfo,staffInfoLoading:e.staffInfoLoading}})],1),r("el-dialog",{attrs:{title:e.orderInfoTitle,visible:e.orderInfoDialogVisible,width:"870px",center:""},on:{"update:visible":function(t){e.orderInfoDialogVisible=t}}},[r("order-info",{attrs:{orderInfo:e.orderInfo,orderInfoLoading:e.orderInfoLoading}})],1),r("el-dialog",{attrs:{title:"编辑服务员工",visible:e.addFirstDialogVisible,width:"500px",center:""},on:{"update:visible":function(t){e.addFirstDialogVisible=t},close:e.addFirstDialogClose}},[r("div",{staticClass:"content"},[r("el-form",{ref:"orderSuccessForm",attrs:{model:e.orderSuccessForm}},[r("el-row",[r("el-form-item",{attrs:{"label-width":"80px",label:"姓名",prop:"name"}},[0!=e.orderInterviewer.length?r("el-select",{attrs:{placeholder:"请选择面试人员姓名"},model:{value:e.orderSuccessForm.staff_id,callback:function(t){e.$set(e.orderSuccessForm,"staff_id",t)},expression:"orderSuccessForm.staff_id"}},e._l(e.orderInterviewer,(function(e){return r("el-option",{key:e.id,attrs:{label:e.staff.name,value:e.staff_id}})})),1):r("el-select",{attrs:{placeholder:"请选择面试人员姓名",disabled:""},model:{value:e.orderSuccessForm.staff_id,callback:function(t){e.$set(e.orderSuccessForm,"staff_id",t)},expression:"orderSuccessForm.staff_id"}},[r("el-option",{attrs:{label:"没有面试人员",value:0}})],1)],1)],1),r("el-row",[r("el-form-item",{attrs:{label:"更换原因","label-width":"80px",prop:"content"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.orderSuccessForm.content,callback:function(t){e.$set(e.orderSuccessForm,"content",t)},expression:"orderSuccessForm.content"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addFirstDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveFirstStaff}},[e._v("保 存")])],1)]),r("el-dialog",{attrs:{title:e.editCustomerTitle,visible:e.editDialogVisible,width:"800px",center:""},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClose}},[r("div",{staticClass:"content"},[r("el-form",{ref:"form",staticClass:"add-user-form",attrs:{inline:!0,model:e.editForm,rules:e.formRules}},[r("div",{staticClass:"content-wrap"},[r("el-row",[r("el-col",{attrs:{span:6,offset:1}},[r("el-form-item",{attrs:{label:"身份证",prop:"identity"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.editForm.identity,callback:function(t){e.$set(e.editForm,"identity",t)},expression:"editForm.identity"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"合同号",prop:"num"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.editForm.num,callback:function(t){e.$set(e.editForm,"num",t)},expression:"editForm.num"}})],1)],1),r("el-col",{attrs:{span:9}},[r("el-form-item",{staticClass:"registration_address",attrs:{label:"合同起止",prop:"start_time"}},[r("el-date-picker",{staticStyle:{width:"290px"},attrs:{size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.editForm.start_time,callback:function(t){e.$set(e.editForm,"start_time",t)},expression:"editForm.start_time"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:4,offset:1}},[r("el-form-item",{attrs:{label:"合同费",prop:"spend"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.editForm.spend,callback:function(t){e.$set(e.editForm,"spend",t)},expression:"editForm.spend"}})],1)],1),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"保险单位",prop:"is_insurance"}},[r("el-select",{attrs:{size:"mini"},model:{value:e.editForm.is_insurance,callback:function(t){e.$set(e.editForm,"is_insurance",t)},expression:"editForm.is_insurance"}},[r("el-option",{attrs:{label:"有",value:"1"}}),r("el-option",{attrs:{label:"无",value:"0"}})],1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"现在工资",prop:"now_salary"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.editForm.now_salary,callback:function(t){e.$set(e.editForm,"now_salary",t)},expression:"editForm.now_salary"}})],1)],1),r("el-col",{attrs:{span:7}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{staticStyle:{width:"170px"},attrs:{label:"家政员提成",prop:"commission"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.editForm.commission,callback:function(t){e.$set(e.editForm,"commission",t)},expression:"editForm.commission"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6,offset:1}},[r("el-form-item",{attrs:{label:"上班地址",prop:"work_address"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入上班地址"},model:{value:e.editForm.work_address,callback:function(t){e.$set(e.editForm,"work_address",t)},expression:"editForm.work_address"}})],1)],1),r("el-col",{attrs:{span:9}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"第二联系人",prop:"name"}},[r("el-input",{attrs:{size:"mini",placeholder:"请输入姓名"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"contract_wages",attrs:{label:"第二联系人电话",prop:"phone"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1)],1)],1),r("el-col",{attrs:{span:5}},[r("el-form-item",{staticClass:"contract_wages",staticStyle:{width:"190px"},attrs:{label:"签合同时工资",prop:"sign_salary"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.editForm.sign_salary,callback:function(t){e.$set(e.editForm,"sign_salary",t)},expression:"editForm.sign_salary"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6,offset:1}},[r("el-form-item",{staticClass:"registration_address",attrs:{label:"工作时间",prop:"work_time"}},[r("el-input",{attrs:{size:"mini"},model:{value:e.editForm.work_time,callback:function(t){e.$set(e.editForm,"work_time",t)},expression:"editForm.work_time"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{staticClass:"registration_address",attrs:{label:"家庭情况备注",prop:"remark"}},[r("el-input",{staticStyle:{width:"512px"},attrs:{size:"mini",type:"textarea"},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1)],1)],1)],1)])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveEditContractInfo}},[e._v("保 存")])],1)]),r("el-dialog",{attrs:{title:"添加面试",visible:e.addInterviewDialogVisible,width:"800px",center:"","append-to-body":""},on:{"update:visible":function(t){e.addInterviewDialogVisible=t},close:e.inaterviewhide}},[r("el-form",{ref:"interviewform",staticClass:"eventForm",staticStyle:{width:"100%","margin-top":"10px"},attrs:{model:e.interviewForm,rules:e.interviewFormRules,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"面试时间",prop:"interview_time"}},[r("el-date-picker",{attrs:{type:"datetime",size:"mini",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.interviewForm.interview_time,callback:function(t){e.$set(e.interviewForm,"interview_time",t)},expression:"interviewForm.interview_time"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"是否通过",prop:"status"}},[r("el-radio-group",{model:{value:e.interviewForm.status,callback:function(t){e.$set(e.interviewForm,"status",t)},expression:"interviewForm.status"}},[r("el-radio",{attrs:{label:0}},[e._v("面试中")]),r("el-radio",{attrs:{label:1}},[e._v("通过")]),r("el-radio",{attrs:{label:2}},[e._v("不通过")])],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"110px",label:"面试人员姓名",prop:"name"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,size:"mini",placeholder:"请输入面试人员姓名"},on:{select:e.handleSelect},model:{value:e.interviewForm.name,callback:function(t){e.$set(e.interviewForm,"name",t)},expression:"interviewForm.name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[r("el-input",{attrs:{disabled:"",size:"mini"},model:{value:e.interviewForm.mobile,callback:function(t){e.$set(e.interviewForm,"mobile",t)},expression:"interviewForm.mobile"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"面试记录",prop:"content"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.interviewForm.content,callback:function(t){e.$set(e.interviewForm,"content",t)},expression:"interviewForm.content"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addInterviewDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveInterviewInfo}},[e._v("保 存")])],1)],1),r("el-dialog",{attrs:{title:"面试结果",visible:e.editInterviewDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.editInterviewDialogVisible=t}}},[r("el-form",{ref:"editInterviewState",attrs:{model:e.editInterviewState}},[r("el-form-item",{attrs:{label:"是否通过",prop:"status"}},[r("el-radio-group",{model:{value:e.editInterviewState.status,callback:function(t){e.$set(e.editInterviewState,"status",t)},expression:"editInterviewState.status"}},[r("el-radio",{attrs:{label:0}},[e._v("面试中")]),r("el-radio",{attrs:{label:1}},[e._v("通过")]),r("el-radio",{attrs:{label:2}},[e._v("不通过")])],1)],1),r("el-form-item",{attrs:{label:"面试记录",prop:"content"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.editInterviewState.content,callback:function(t){e.$set(e.editInterviewState,"content",t)},expression:"editInterviewState.content"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.editInterviewDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveEditInterview}},[e._v("确 定")])],1)],1)],1)},n=[],a=(r("4160"),r("b0c0"),r("ac1f"),r("5319"),r("498a"),r("159b"),r("ade3")),s=r("30d1"),l=r("ee19"),c=r("c1ce"),d=r("2f08"),u=r("9c37"),m=r("ed50"),f=r("e7a1"),p={name:"OrderGenerate",data:function(){return{buyInsurDialogVisible:!1,insuracneForm:{customer_id:"",safety_no:"",time:[],content:""},isaddIns:!1,addInsurTile:"",insuracneFormRules:{safety_no:[{required:!0,message:"请输入保险单号",trigger:"blur"}],time:[{required:!0,message:"请输入保险起止时间",trigger:"blur"}],content:[{required:!0,message:"请输入保险内容",trigger:"blur"}]},lookInsuranceDialogVisible:!1,currenInsurTitle:"",insuracneFormData:[],seatData:"无",searchForm:{},customers:[],orderInfo:{},currentPage:1,total:null,per_page:null,staffInfoDialogVisible:!1,loading:!1,staffInfo:{},staffInfoLoading:!1,staffInfoTitle:"",source:[],activeName:"first",service_types:[],orderInfoDialogVisible:!1,orderInfoLoading:!1,orderInfoData:{},orderInfoTitle:"",editDialogVisible:!1,editCustomerTitle:"",editForm:{customer_id:"",identity:"",start_time:[],work_time:"",work_address:"",spend:"",num:"",is_insurance:"",now_salary:"",commission:"",sign_salary:"",remark:"",name:"",phone:""},formRules:{num:[{required:!0,message:"请输入合同号",trigger:"blur"}],work_address:[{required:!0,message:"请输入上班地址",trigger:"blur"}],start_time:[{required:!0,message:"请输入合同起止",trigger:"blur"}],work_time:[{required:!0,message:"请输入工作时间",trigger:"blur"}],name:[{required:!0,message:"请输入第二联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入第二联系人电话",trigger:"blur"}]},addFirstDialogVisible:!1,orderInterviewer:[],orderSuccessForm:{staff_id:"",customer_id:"",content:""},orderSuccessRules:{staff_number:[{required:!0,message:"请输入员工编号",trigger:"blur"}],name:[{required:!0,message:"请输入员工姓名",trigger:"blur"}]},currentOrderId:"",pauseOrderForm:{customer_id:"",pause_time:""},interviewFormData:[],interviewLoading:!1,addInterviewDialogVisible:!1,interviewForm:{customer_id:"",staff_id:"",content:"",status:"",interview_time:"",name:""},editInterviewState:{id:"",content:"",status:""},editInterviewDialogVisible:!1,interviewFormRules:{status:[{required:!0,message:"请输入是否通过",trigger:"blur"}],name:[{required:!0,message:"请输入员工姓名",trigger:"change"}],content:[{required:!0,message:"请输入面试内容",trigger:"blur"}]},searchRults:[],followUpFormData:[],followupLoading:!1,addFollowUpForm:{customer_id:"",start_time:"",content:"",total_time:""},addFollowUpFormRules:{content:[{required:!0,message:"请输入跟进记录",trigger:"blur"}],total_time:[{required:!0,message:"请输入时长",trigger:"blur"}]}}},computed:{language:function(){return this.staffInfo.language},screenHeight:function(){return this.$store.state.screenHeight-210+"px"},scrollHeight:function(){return this.$store.state.screenHeight-290+"px"}},watch:{},methods:(i={deleteInsuranceBtn:function(e,t){var r=this;Object(m["e"])(e).then((function(e){var i=e.code,o=e.msg;console.log(e),200===i?(r.$message.success(o),r.getOneStaffInsuranceInfo(t)):r.$message.error(o)}))},saveEditInsurance:function(){var e=this;Object(m["G"])(this.insuracneForm).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.getOneStaffInsuranceInfo(e.insuracneForm.staff_id),e.buyInsurDialogVisible=!1):e.$message.error(i)}))},editInsuranceBtn:function(e){var t=this;this.isaddIns=!1,Object(m["p"])(e).then((function(e){var r=e.code,i=e.data,o=e.msg;200===r?(console.log(i),t.insuracneForm.customer_id=i.customer_id,t.insuracneForm.safety_no=i.safety_no,t.insuracneForm.time=i.time,t.insuracneForm.content=i.content,t.insuracneForm.staff_id=i.staff_id,t.insuracneForm.id=i.id,t.addInsurTile="编辑保险",t.buyInsurDialogVisible=!0):t.$message.error(o)}))},lookInsuranceBtn:function(e,t){this.currenInsurTitle="查看当前服务人员（".concat(t,"）的保险"),this.getOneStaffInsuranceInfo(e)},getOneStaffInsuranceInfo:function(e){var t=this;Object(m["r"])(e).then((function(e){var r=e.code,i=e.data,o=e.msg;200===r?(t.insuracneFormData=i,console.log(i),t.lookInsuranceDialogVisible=!0):t.$message.error(o)}))},buyInsuranceBtn:function(e){this.insuracneForm.customer_id=e,this.addInsurTile="添加保险",this.buyInsurDialogVisible=!0,this.isaddIns=!0},buyInsuranceClose:function(){console.log("jj"),this.$refs.insuracneForm.resetFields(),this.insuracneForm={customer_id:"",safety_no:"",time:[],content:""}},saveInsurance:function(){var e=this;this.$refs.insuracneForm.validate((function(t){if(!t)return!1;Object(m["y"])(e.insuracneForm).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.buyInsurDialogVisible=!1,e.getSearchInfoData(e.searchForm)):e.$message.error(i)}))}))},getSearchInfoData:function(e){var t=this;Object(m["B"])(e).then((function(e){200===e.code?(t.customers=e.data.data,console.log(e.data.data),t.currentPage=e.data.current_page,t.total=e.data.total,t.per_page=e.data.per_page,t.loading=!1):(t.$message.error(e.msg),t.loading=!1)}))},getAllOrderInfo:function(){this.loading=!0,this.getSearchInfoData(this.searchForm)},searchBtn:function(e){this.searchForm=e,this.getSearchInfoData(this.searchForm)},handleCurrentChange:function(e){this.searchForm.page=e,this.getSearchInfoData(this.searchForm)},formDeleteBtn:function(e){var t=this;console.log(e),Object(m["g"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllOrderInfo()):t.$message.error(i)}))},stopBtn:function(e){this.pauseOrderForm.customer_id=e,this.pauseOrderForm.pause_time=(new Date).toLocaleDateString().replace(/\//g,"-")},restoreBtn:function(e){var t=this;Object(m["t"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllOrderInfo()):t.$message.error(i)}))},copyBtn:function(e){var t=this;Object(m["b"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllOrderInfo()):t.$message.error(i)}))},completeBtn:function(e){var t=this;Object(m["a"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllOrderInfo()):t.$message.error(i)}))},savePauseOrderInfo:function(){var e=this;Object(m["s"])(this.pauseOrderForm).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.getAllOrderInfo()):e.$message.error(i)}))},examineBtn:function(e){var t=this;this.$confirm("该订单是否确认通过？","审核订单",{distinguishCancelAndClose:!0,cancelButtonText:"不通过",confirmButtonText:"通过"}).then((function(){Object(m["E"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllOrderInfo()):t.$message.error(i)}))})).catch((function(r){Object(m["g"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllOrderInfo()):t.$message.error(i)}))}))},editBtn:function(e,t,r){r&&(this.editForm.customer_id=r.customer_id,this.editForm.identity=r.identity,this.editForm.start_time=r.start_time,this.editForm.work_time=r.work_time,this.editForm.work_address=r.work_address,this.editForm.spend=r.spend,this.editForm.num=r.num,this.editForm.is_insurance=r.is_insurance,this.editForm.now_salary=r.now_salary,this.editForm.commission=r.commission,this.editForm.sign_salary=r.sign_salary,this.editForm.remark=r.remark,this.editForm.name=r.name,this.editForm.phone=r.phone),this.editCustomerTitle="编辑客户（".concat(e,"）的合同"),this.editDialogVisible=!0,this.editForm.customer_id=t},saveEditContractInfo:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;Object(m["v"])(e.editForm).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.editDialogVisible=!1):e.$message.error(i)}))}))},expandShow:function(e,t){0!=t.length&&(this.currentOrderId=e.id,this.addFollowUpForm.customer_id=e.id,console.log(e.id),this.getAllInterviewInfo(e.id),this.getAllFollowUpInfo(e.id))},handleSelect:function(e){console.log(e)},editDialogClose:function(){this.$refs.form.resetFields()},orderInfoBtn:function(e,t){var r=this;this.orderInfoTitle="（".concat(e,"）订单的基本信息"),this.orderInfoDialogVisible=!0,this.orderInfoLoading=!0,Object(m["l"])(t).then((function(e){var t=e.code,i=e.data,o=e.msg;200===t?(console.log(i),r.orderInfo=i,r.orderInfoLoading=!1):(r.$message.error(o),r.orderInfoLoading=!1)}))},staffInfoBtn:function(e){this.staffInfoTitle="家政员（".concat(e.name,"）的基本信息"),this.staffInfoDialogVisible=!0,this.staffInfo=e},addSuccessOrder:function(e,t){var r=this;this.addFirstDialogVisible=!0,this.orderSuccessForm.customer_id=t,this.orderSuccessForm.staff_id=e,Object(m["k"])({customer_id:t}).then((function(e){var t=e.code,i=e.data,o=e.msg;200===t?i?(r.orderInterviewer=i,console.log(i)):(r.orderInterviewer=[],r.$message.error("无面试人员！请添加！")):r.$message.error(o)}))},addFirstDialogClose:function(){this.$refs.orderSuccessForm.resetFields(),this.orderSuccessForm.staff_id="",this.orderSuccessForm.customer_id="",this.orderSuccessForm.content=""},saveFirstStaff:function(){var e=this;this.$refs.orderSuccessForm.validate((function(t){if(!t)return!1;Object(m["w"])(e.orderSuccessForm).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.addFirstDialogVisible=!1,e.getAllOrderInfo()):e.$message.error(i)}))}))},getAllInterviewInfo:function(e){var t=this;this.interviewLoading=!0,Object(m["k"])({customer_id:e}).then((function(e){var r=e.code,i=e.data,o=e.msg;console.log(e),200===r?(t.interviewFormData=i,console.log("面试记录",i),t.interviewLoading=!1):(t.$message.error(o),t.interviewLoading=!1)}))},getAllFollowUpInfo:function(e){var t=this;this.followupLoading=!0,Object(m["j"])({customer_id:e}).then((function(e){var r=e.code,i=e.data,o=e.msg;200===r?(console.log("跟进记录",i),t.followUpFormData=i,t.followupLoading=!1):(t.$message.error(o),t.followupLoading=!1)}))},editInterview:function(e){var t=this;console.log(e),Object(m["m"])(e).then((function(e){var r=e.code,i=e.data,o=e.msg;200===r?(console.log(i),t.editInterviewState.id=i.id,t.editInterviewState.content=i.content,t.editInterviewState.status=i.status,t.editInterviewDialogVisible=!0):t.$message.error(o)}))},tabsClick:function(){},interviewShow:function(e){},inaterviewhide:function(){console.log("jjj"),this.$refs.interviewform.resetFields(),this.$refs.addFollowUpForm.resetFields()},querySearchAsync:function(e,t){var r=this;this.searchRults=[],e.trim()&&Object(m["D"])(e).then((function(e){var i=e.code,o=e.data,n=e.msg;if(200===i){if(console.log(o),!o)return;o.forEach((function(e){console.log(e);var t={};t.value=e.name,t.mobile=e.mobile,t.id=e.id,r.searchRults.push(t)})),t(r.searchRults)}else r.$message.error(n)}))}},Object(a["a"])(i,"handleSelect",(function(e){console.log(e),this.interviewForm.name=e.value,this.interviewForm.mobile=e.mobile,this.interviewForm.staff_id=e.id})),Object(a["a"])(i,"addInterviewBtn",(function(e){this.interviewForm.name="",this.interviewForm.mobile="",this.interviewForm.staff_id="",this.addInterviewDialogVisible=!0,this.interviewForm.customer_id=e,this.interviewForm.interview_time=(new Date).toLocaleString("chinese",{hour12:!1}).replace(/\//g,"-")})),Object(a["a"])(i,"interViewDeleteBtn",(function(e){var t=this;Object(m["f"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllInterviewInfo(t.currentOrderId)):t.$message.error(i)}))})),Object(a["a"])(i,"saveEditInterview",(function(){var e=this;Object(m["H"])(this.editInterviewState).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.getAllInterviewInfo(e.currentOrderId),e.editInterviewDialogVisible=!1):e.$message.error(i)}))})),Object(a["a"])(i,"saveInterviewInfo",(function(){var e=this,t={};t.customer_id=this.interviewForm.customer_id,t.staff_id=this.interviewForm.staff_id,t.interview_time=this.interviewForm.interview_time,t.status=this.interviewForm.status,t.content=this.interviewForm.content,this.$refs.interviewform.validate((function(r){if(!r)return e.$message.warning("请输入必填字段！"),!1;Object(m["z"])(t).then((function(t){var r=t.code,i=t.msg;200===r?(e.$message.success(i),e.getAllInterviewInfo(e.currentOrderId),e.addInterviewDialogVisible=!1,e.$refs.interviewform.resetFields()):e.$message.error(i)}))}))})),Object(a["a"])(i,"saveFollowUp",(function(e){var t=this;console.log(e),this.$refs.addFollowUpForm.validate((function(e){if(!e)return!1;Object(m["x"])(t.addFollowUpForm).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllFollowUpInfo(t.currentOrderId),t.$refs.addFollowUpForm.resetFields()):t.$message.error(i)}))}))})),Object(a["a"])(i,"followUpDeleteBtn",(function(e){var t=this;console.log(e),Object(m["d"])(e).then((function(e){var r=e.code,i=e.msg;200===r?(t.$message.success(i),t.getAllFollowUpInfo(t.currentOrderId)):t.$message.error(i)}))})),i),components:{CustomerSearch:s["a"],StaffInfo:l["a"],OrderInfo:d["a"],Pagination:c["a"]},created:function(){var e=this;this.getAllOrderInfo(),this.form=this.editForm,Object(u["l"])(32).then((function(t){e.staffInfoLoading=!0,200===t.code?(e.staffInfoLoading=!1,e.staffInfo=t.data):e.$message.error(t.msg)})),Object(f["h"])().then((function(t){200===t.code?e.service_types=t.data:e.$message.waraing("获取岗位失败！")})),Object(f["b"])().then((function(t){var r=t.code,i=t.data,o=t.msg;200===r?e.source=i:e.$message.error(o)})),this.addFollowUpForm.start_time=(new Date).toLocaleString("chinese",{hour12:!1}).replace(/\//g,"-")}},v=p,g=(r("0ad1"),r("2877")),b=Object(g["a"])(v,o,n,!1,null,"b32b54f2",null);t["default"]=b.exports},"9f7f":function(e,t,r){"use strict";var i=r("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,r){"use strict";var i=r("23e7"),o=r("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,r){"use strict";var i=r("825a");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ade3:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i}))},b727:function(e,t,r){var i=r("0366"),o=r("44ad"),n=r("7b0b"),a=r("50c4"),s=r("65f0"),l=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,d=4==e,u=6==e,m=5==e||u;return function(f,p,v,g){for(var b,h,w=n(f),_=o(w),y=i(p,v,3),F=a(_.length),I=0,x=g||s,S=t?x(f,F):r?x(f,0):void 0;F>I;I++)if((m||I in _)&&(b=_[I],h=y(b,I,w),e))if(t)S[I]=h;else if(h)switch(e){case 3:return!0;case 5:return b;case 6:return I;case 2:l.call(S,b)}else if(d)return!1;return u?-1:c||d?d:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c8d2:function(e,t,r){var i=r("d039"),o=r("5899"),n="​᠎";e.exports=function(e){return i((function(){return!!o[e]()||n[e]()!=n||o[e].name!==e}))}},d784:function(e,t,r){"use strict";r("ac1f");var i=r("6eeb"),o=r("d039"),n=r("b622"),a=r("9263"),s=r("9112"),l=n("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=n("replace"),m=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),f=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,u){var p=n(e),v=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=v&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!v||!g||"replace"===e&&(!c||!d||m)||"split"===e&&!f){var b=/./[p],h=r(p,""[e],(function(e,t,r,i,o){return t.exec===a?v&&!o?{done:!0,value:b.call(t,r,i)}:{done:!0,value:e.call(r,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),w=h[0],_=h[1];i(String.prototype,e,w),i(RegExp.prototype,p,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}u&&s(RegExp.prototype[p],"sham",!0)}},e8b5:function(e,t,r){var i=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-9edaa87e.7c325a68.js.map