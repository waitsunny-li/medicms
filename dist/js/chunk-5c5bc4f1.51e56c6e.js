(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c5bc4f1"],{"29fe":function(e,t,a){"use strict";var s=a("ec0f"),l=a.n(s);l.a},"498a":function(e,t,a){"use strict";var s=a("23e7"),l=a("58a8").trim,r=a("c8d2");s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return l(this)}})},"4ca3":function(e,t,a){},6277:function(e,t,a){"use strict";var s=a("4ca3"),l=a.n(s);l.a},9052:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staff-appeal"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("search",{on:{searchbtn:e.searchBtn}}),a("el-card",{staticClass:"table-content",style:{height:e.screenHeight}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-table-wrap",staticStyle:{width:"100%"},attrs:{data:e.staffList,border:"",height:e.scrollHeight}},[a("el-table-column",{attrs:{prop:"id",width:"100",align:"center",label:"编号"}}),a("el-table-column",{attrs:{prop:"name",width:"100",align:"center",label:"姓名"}}),a("el-table-column",{attrs:{align:"center",width:"80",prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.sex?a("span",[e._v("男")]):2==t.row.sex?a("span",[e._v("女")]):e._e()]}}])}),a("el-table-column",{staticClass:"identify",attrs:{align:"center",prop:"identity",label:"身份证","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{align:"center",prop:"address",label:"地址","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.now_p_text)+e._s(t.row.now_c_text)+e._s(t.row.now_d_text)+e._s(t.row.now_address_desc))]}}])}),a("el-table-column",{attrs:{prop:"in_time",align:"center",label:"入职日期",width:"180"}}),a("el-table-column",{attrs:{width:"80",align:"center",prop:"person_state",label:"人员状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.person_state?a("p",[e._v("培训")]):2==t.row.person_state?a("p",[e._v("考核")]):3==t.row.person_state?a("p",[e._v("待岗")]):4==t.row.person_state?a("p",[e._v("离职")]):5==t.row.person_state?a("p",[e._v("黑名单")]):6==t.row.person_state?a("p",[e._v("在岗")]):7==t.row.person_state?a("p",[e._v("离职(下单)")]):a("p",[e._v("错误")])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.lookAppealBtn(t.row.id,t.row.name)}}},[e._v("查看申诉")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return e.addAppealBtn(t.row.id)}}})]}}])})],1)],1)],1)],1),a("pagination",{attrs:{currentPage:e.currentPage,perpage:e.per_page,total:e.total},on:{handlecurrentchange:e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加申诉内容",visible:e.addDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"申诉内容"}},[a("el-input",{staticStyle:{},attrs:{type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveAppealInfo}},[e._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:e.staff_name+"的申诉记录",visible:e.assessDialogVisible,width:"800px",center:""},on:{"update:visible":function(t){e.assessDialogVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.showTrainLoading,expression:"showTrainLoading"}],staticClass:"looktraining",staticStyle:{width:"100%"},attrs:{height:"500",data:e.assessData,stripe:""}},[a("el-table-column",{attrs:{prop:"start_end",align:"center",label:"日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.create_time))]}}])}),a("el-table-column",{attrs:{prop:"content","show-overflow-tooltip":!0,align:"center",label:"事件内容"}}),a("el-table-column",{attrs:{align:"center",label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("p",[a("el-tag",{attrs:{size:"mini",type:"info",effect:"dark"}},[e._v("未审核")])],1):e._e(),1==t.row.status?a("p",[a("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A","font-size":"22px","margin-right":"5px"}}),e._v("通过 ")]):e._e(),2==t.row.status?a("p",[a("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#F56C6C","font-size":"22px","margin-right":"5px"}}),e._v("拒绝 ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.appealOperation(t.row.id)}}},[e._v("审核")])],1)]}}])})],1)],1),a("el-dialog",{attrs:{center:"",width:"30%",title:"审核",visible:e.changeAppealVisible,"append-to-body":""},on:{"update:visible":function(t){e.changeAppealVisible=t},close:e.evaluateVisibleClose}},[a("el-form",{ref:"appealChangeForm",attrs:{model:e.appealChangeForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"是否通过",prop:"status"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.appealChangeForm.status,callback:function(t){e.$set(e.appealChangeForm,"status",t)},expression:"appealChangeForm.status"}},[e._v("通过")]),a("el-radio",{attrs:{label:"2"},model:{value:e.appealChangeForm.status,callback:function(t){e.$set(e.appealChangeForm,"status",t)},expression:"appealChangeForm.status"}},[e._v("未通过")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.evaluateVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveEvaluate}},[e._v("保 存")])],1)],1)],1)},l=[],r=(a("498a"),a("e34d")),n=a("c1ce"),o=a("9c37"),i={name:"Staffappeal",data:function(){return{loading:!0,staffList:[],currentPage:1,total:null,per_page:null,showTrainLoading:!1,assessDialogVisible:!1,changeAppealVisible:!1,evaluateVisible:!1,staff_name:"",currentStaffId:"",addDialogVisible:!1,addAppealForm:{staff_id:"",content:""},form:{},assessData:[],appealChangeForm:{id:"",status:""}}},computed:{screenHeight:function(){return this.$store.state.screenHeight-210+"px"},scrollHeight:function(){return this.$store.state.screenHeight-290+"px"}},components:{Search:r["a"],Pagination:n["a"]},watch:{},methods:{searchBtn:function(){console.log("考核评价")},getStaffData:function(){var e=this;this.loading=!0,Object(o["p"])(5).then((function(t){200===t.code?(e.staffList=t.data.data,e.currentPage=t.data.current_page,e.total=parseInt(t.data.total),e.per_page=t.data.per_page,e.loading=!1):e.$message.error(t.msg)})).catch((function(e){}))},handleCurrentChange:function(e){console.log(e)},getAllAppealData:function(e){var t=this;this.showTrainLoading=!0,Object(o["d"])(e).then((function(e){var a=e.code,s=e.data,l=e.msg;200===a?(console.log(s),t.assessData=s,t.showTrainLoading=!1):(t.$message.error(l),t.showTrainLoading=!1)}))},addAppealBtn:function(e){this.addDialogVisible=!0,this.form=this.addAppealForm,this.form.staff_id=e},lookAppealBtn:function(e,t){this.staff_name=t,this.assessDialogVisible=!0,this.currentStaffId=e,this.getAllAppealData(e)},saveAppealInfo:function(){var e=this;""==this.addAppealForm.content.trim()?this.$message.error("请输入申述内容！"):Object(o["k"])(this.addAppealForm).then((function(t){var a=t.code,s=t.msg;200===a?(e.$message.success(s),e.addDialogVisible=!1):e.$message.error(s)}))},appealOperation:function(e){this.appealChangeForm.id=e,this.changeAppealVisible=!0},saveEvaluate:function(){var e=this;""!=this.appealChangeForm.status?Object(o["a"])(this.appealChangeForm).then((function(t){var a=t.code,s=t.msg;200===a?(e.$message.success(s),e.changeAppealVisible=!1,e.getAllAppealData(e.currentStaffId),e.getStaffData()):e.$message.error(s)})):this.$message.error("请输入状态！")},evaluateVisibleClose:function(){this.appealChangeForm.status=""}},created:function(){this.getStaffData()},destroyed:function(){}},c=i,p=(a("29fe"),a("2877")),d=Object(p["a"])(c,s,l,!1,null,"51d65d70",null);t["default"]=d.exports},c8d2:function(e,t,a){var s=a("d039"),l=a("5899"),r="​᠎";e.exports=function(e){return s((function(){return!!l[e]()||r[e]()!=r||l[e].name!==e}))}},e34d:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("el-card",{staticClass:"search-wrap"},[a("el-form",{ref:"searchForm",attrs:{size:"small",inline:!0,model:e.searchForm}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{size:"mini",placeholder:"姓名",clearable:""},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{prop:"telphone"}},[a("el-input",{attrs:{size:"mini",placeholder:"手机号",clearable:""},model:{value:e.searchForm.telphone,callback:function(t){e.$set(e.searchForm,"telphone",t)},expression:"searchForm.telphone"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"idcard"}},[a("el-input",{attrs:{size:"mini",placeholder:"身份证号",clearable:""},model:{value:e.searchForm.idcard,callback:function(t){e.$set(e.searchForm,"idcard",t)},expression:"searchForm.idcard"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{prop:"state"}},[a("el-select",{attrs:{size:"mini",placeholder:"员工状态"},model:{value:e.searchForm.state,callback:function(t){e.$set(e.searchForm,"state",t)},expression:"searchForm.state"}},[a("el-option",{attrs:{label:"培训",value:"1"}}),a("el-option",{attrs:{label:"待岗",value:"3"}}),a("el-option",{attrs:{label:"离职",value:"4"}}),a("el-option",{attrs:{label:"黑名单",value:"5"}}),a("el-option",{attrs:{label:"在岗",value:"6"}}),a("el-option",{attrs:{label:"离职（下单）",value:"7"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"join_date"}},[a("el-date-picker",{staticClass:"select-date",staticStyle:{width:"250px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},model:{value:e.searchForm.join_date,callback:function(t){e.$set(e.searchForm,"join_date",t)},expression:"searchForm.join_date"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"handle"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchBtn}},[e._v("搜索")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.clearBtn}},[e._v("清除查询")])],1)],1)],1)],1)],1)],1)],1)},l=[],r=a("159f"),n={name:"Search",data:function(){return{searchForm:{name:"",telphone:"",idcard:"",state:"",join_date:""}}},methods:{clearBtn:function(){this.$refs.searchForm.resetFields()},searchBtn:function(){r["a"].$emit("searchstaff",this.searchForm),this.$emit("searchbtn",this.searchForm)}},created:function(){}},o=n,i=(a("6277"),a("2877")),c=Object(i["a"])(o,s,l,!1,null,"36d31af5",null);t["a"]=c.exports},ec0f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-5c5bc4f1.51e56c6e.js.map